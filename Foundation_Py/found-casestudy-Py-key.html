<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.55">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="The LASER Team">

<title>Narrated: Foundations Case Study - Key</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="found-casestudy-Py-key_files/libs/clipboard/clipboard.min.js"></script>
<script src="found-casestudy-Py-key_files/libs/quarto-html/quarto.js"></script>
<script src="found-casestudy-Py-key_files/libs/quarto-html/popper.min.js"></script>
<script src="found-casestudy-Py-key_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="found-casestudy-Py-key_files/libs/quarto-html/anchor.min.js"></script>
<link href="found-casestudy-Py-key_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="found-casestudy-Py-key_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="found-casestudy-Py-key_files/libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="found-casestudy-Py-key_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="found-casestudy-Py-key_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="found-casestudy-Py-key_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="found-casestudy-Py-key_files/libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">0. INTRODUCTION</a></li>
  <li><a href="#module-1-prepare-and-wrangle" id="toc-module-1-prepare-and-wrangle" class="nav-link" data-scroll-target="#module-1-prepare-and-wrangle">Module 1: Prepare and Wrangle</a></li>
  <li><a href="#prepare" id="toc-prepare" class="nav-link" data-scroll-target="#prepare">1. PREPARE</a>
  <ul>
  <li><a href="#about-the-study" id="toc-about-the-study" class="nav-link" data-scroll-target="#about-the-study">ABOUT the study</a></li>
  <li><a href="#a.-load-packages" id="toc-a.-load-packages" class="nav-link" data-scroll-target="#a.-load-packages">1a. Load Packages ğŸ“¦</a></li>
  <li><a href="#data-sources" id="toc-data-sources" class="nav-link" data-scroll-target="#data-sources">Data Sources</a>
  <ul class="collapse">
  <li><a href="#data-source-1-log-data" id="toc-data-source-1-log-data" class="nav-link" data-scroll-target="#data-source-1-log-data">Data Source #1: Log Data</a></li>
  <li><a href="#data-source-2-academic-achievement-data" id="toc-data-source-2-academic-achievement-data" class="nav-link" data-scroll-target="#data-source-2-academic-achievement-data">Data Source #2: Academic Achievement Data</a></li>
  <li><a href="#data-source-3-self-report-survey" id="toc-data-source-3-self-report-survey" class="nav-link" data-scroll-target="#data-source-3-self-report-survey">Data Source #3: Self-Report Survey</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#wrangle" id="toc-wrangle" class="nav-link" data-scroll-target="#wrangle">2. WRANGLE</a>
  <ul>
  <li><a href="#import-data" id="toc-import-data" class="nav-link" data-scroll-target="#import-data">Import data</a>
  <ul class="collapse">
  <li><a href="#time-spent" id="toc-time-spent" class="nav-link" data-scroll-target="#time-spent"><strong>Time spent</strong></a></li>
  <li><a href="#creating-new-object" id="toc-creating-new-object" class="nav-link" data-scroll-target="#creating-new-object">Creating new object</a></li>
  <li><a href="#convert-python-to-r-tibble" id="toc-convert-python-to-r-tibble" class="nav-link" data-scroll-target="#convert-python-to-r-tibble">Convert Python to R tibble</a></li>
  <li><a href="#grades" id="toc-grades" class="nav-link" data-scroll-target="#grades"><strong>Grades</strong></a></li>
  <li><a href="#self-reporting-survey" id="toc-self-reporting-survey" class="nav-link" data-scroll-target="#self-reporting-survey">Self-reporting survey</a></li>
  <li><a href="#your-turn-2" id="toc-your-turn-2" class="nav-link" data-scroll-target="#your-turn-2"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></a></li>
  <li><a href="#convert-python-to-r-tibble-1" id="toc-convert-python-to-r-tibble-1" class="nav-link" data-scroll-target="#convert-python-to-r-tibble-1">Convert Python to R tibble</a></li>
  <li><a href="#using-info-and-describefunction." id="toc-using-info-and-describefunction." class="nav-link" data-scroll-target="#using-info-and-describefunction.">Using <code>info()</code> and <code>describe()</code>function.</a></li>
  <li><a href="#using-global-environment" id="toc-using-global-environment" class="nav-link" data-scroll-target="#using-global-environment">Using Global Environment</a></li>
  <li><a href="#inspecting-first-and-last-few-rows" id="toc-inspecting-first-and-last-few-rows" class="nav-link" data-scroll-target="#inspecting-first-and-last-few-rows">Inspecting first and last few rows</a></li>
  <li><a href="#using-sample-function." id="toc-using-sample-function." class="nav-link" data-scroll-target="#using-sample-function.">Using <code>sample()</code> function.</a></li>
  <li><a href="#your-turn-4" id="toc-your-turn-4" class="nav-link" data-scroll-target="#your-turn-4"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></a></li>
  </ul></li>
  <li><a href="#tidy-data" id="toc-tidy-data" class="nav-link" data-scroll-target="#tidy-data">Tidy data</a>
  <ul class="collapse">
  <li><a href="#time-spent-1" id="toc-time-spent-1" class="nav-link" data-scroll-target="#time-spent-1">1. Time Spent</a></li>
  <li><a href="#step-1-check-current-data-types" id="toc-step-1-check-current-data-types" class="nav-link" data-scroll-target="#step-1-check-current-data-types">Step 1: Check Current Data Types</a></li>
  <li><a href="#step-2-convert-data-types" id="toc-step-2-convert-data-types" class="nav-link" data-scroll-target="#step-2-convert-data-types">Step 2: Convert Data Types</a></li>
  <li><a href="#use-simple-column-assignments-in-pandas" id="toc-use-simple-column-assignments-in-pandas" class="nav-link" data-scroll-target="#use-simple-column-assignments-in-pandas">Use simple column assignments in <code>pandas</code></a></li>
  <li><a href="#gradebook" id="toc-gradebook" class="nav-link" data-scroll-target="#gradebook">2. Gradebook</a></li>
  <li><a href="#use-simple-column-assignments-in-pandas-1" id="toc-use-simple-column-assignments-in-pandas-1" class="nav-link" data-scroll-target="#use-simple-column-assignments-in-pandas-1">Use simple column assignments in <code>pandas</code></a></li>
  <li><a href="#survey" id="toc-survey" class="nav-link" data-scroll-target="#survey">3. Survey</a></li>
  <li><a href="#answer-below" id="toc-answer-below" class="nav-link" data-scroll-target="#answer-below"><strong>ğŸ‘‰ Answer below</strong> <strong>â¤µ</strong></a></li>
  <li><a href="#convert-data-types-and-inspect" id="toc-convert-data-types-and-inspect" class="nav-link" data-scroll-target="#convert-data-types-and-inspect">Convert data types and inspect</a></li>
  </ul></li>
  <li><a href="#data-merging" id="toc-data-merging" class="nav-link" data-scroll-target="#data-merging">Data merging</a>
  <ul class="collapse">
  <li><a href="#merge-gradebook-dataframe-with-time-spent-dataframe" id="toc-merge-gradebook-dataframe-with-time-spent-dataframe" class="nav-link" data-scroll-target="#merge-gradebook-dataframe-with-time-spent-dataframe">Merge gradebook dataFrame with time spent dataFrame</a></li>
  <li><a href="#join-time-spent-dataframe-with-grade-book-dataframe" id="toc-join-time-spent-dataframe-with-grade-book-dataframe" class="nav-link" data-scroll-target="#join-time-spent-dataframe-with-grade-book-dataframe">Join Time Spent dataFrame with Grade book dataFrame</a></li>
  <li><a href="#join-survey-dataframe-with-joined-dataframe" id="toc-join-survey-dataframe-with-joined-dataframe" class="nav-link" data-scroll-target="#join-survey-dataframe-with-joined-dataframe">Join Survey dataFrame with Joined dataFrame</a></li>
  <li><a href="#parse-columns" id="toc-parse-columns" class="nav-link" data-scroll-target="#parse-columns">Parse columns</a></li>
  <li><a href="#create-a-dictionary-and-replace-names" id="toc-create-a-dictionary-and-replace-names" class="nav-link" data-scroll-target="#create-a-dictionary-and-replace-names">Create a dictionary and replace names</a></li>
  <li><a href="#write-the-dataframe-to-the-folder" id="toc-write-the-dataframe-to-the-folder" class="nav-link" data-scroll-target="#write-the-dataframe-to-the-folder">Write the dataFrame to the folder</a></li>
  </ul></li>
  <li><a href="#stop-here.-congratulations-you-finished-the-first-part-of-the-case-study." id="toc-stop-here.-congratulations-you-finished-the-first-part-of-the-case-study." class="nav-link" data-scroll-target="#stop-here.-congratulations-you-finished-the-first-part-of-the-case-study.">ğŸ›‘ Stop here. Congratulations you finished the first part of the case study.</a></li>
  </ul></li>
  <li><a href="#explore-module-2" id="toc-explore-module-2" class="nav-link" data-scroll-target="#explore-module-2">3. EXPLORE (Module 2)</a>
  <ul>
  <li><a href="#filtering-and-sorting-data" id="toc-filtering-and-sorting-data" class="nav-link" data-scroll-target="#filtering-and-sorting-data">Filtering and sorting data</a></li>
  <li><a href="#missing-values-and-imputation" id="toc-missing-values-and-imputation" class="nav-link" data-scroll-target="#missing-values-and-imputation">Missing Values and imputation</a></li>
  <li><a href="#data-visualization" id="toc-data-visualization" class="nav-link" data-scroll-target="#data-visualization">Data Visualization</a>
  <ul class="collapse">
  <li><a href="#use-matplotlib-and-seaborn-libraries" id="toc-use-matplotlib-and-seaborn-libraries" class="nav-link" data-scroll-target="#use-matplotlib-and-seaborn-libraries">Use <code>Matplotlib</code> and <code>Seaborn</code> libraries</a></li>
  </ul></li>
  <li><a href="#one-continuous-variable" id="toc-one-continuous-variable" class="nav-link" data-scroll-target="#one-continuous-variable">One Continuous Variable</a>
  <ul class="collapse">
  <li><a href="#your-turn-11" id="toc-your-turn-11" class="nav-link" data-scroll-target="#your-turn-11"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></a></li>
  <li><a href="#install-visualization-libraries" id="toc-install-visualization-libraries" class="nav-link" data-scroll-target="#install-visualization-libraries">Install visualization libraries</a></li>
  <li><a href="#level-a.-basic-bar-plot" id="toc-level-a.-basic-bar-plot" class="nav-link" data-scroll-target="#level-a.-basic-bar-plot">Level a. Basic Bar Plot</a></li>
  <li><a href="#level-b.-add-labels" id="toc-level-b.-add-labels" class="nav-link" data-scroll-target="#level-b.-add-labels">Level b. Add Labels</a></li>
  </ul></li>
  <li><a href="#histogram" id="toc-histogram" class="nav-link" data-scroll-target="#histogram"><strong>Histogram</strong></a>
  <ul class="collapse">
  <li><a href="#your-turn-13" id="toc-your-turn-13" class="nav-link" data-scroll-target="#your-turn-13"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></a></li>
  <li><a href="#checking-skewness-of-data" id="toc-checking-skewness-of-data" class="nav-link" data-scroll-target="#checking-skewness-of-data">Checking Skewness of data</a></li>
  </ul></li>
  <li><a href="#interpretation-of-skewness-values" id="toc-interpretation-of-skewness-values" class="nav-link" data-scroll-target="#interpretation-of-skewness-values">Interpretation of Skewness Values</a>
  <ul class="collapse">
  <li><a href="#your-turn-14" id="toc-your-turn-14" class="nav-link" data-scroll-target="#your-turn-14"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></a></li>
  <li><a href="#what-does-the-skewness-of--0.62-imply-how-should-we-handle-missing-values" id="toc-what-does-the-skewness-of--0.62-imply-how-should-we-handle-missing-values" class="nav-link" data-scroll-target="#what-does-the-skewness-of--0.62-imply-how-should-we-handle-missing-values">What does the skewness of <code>-0.62</code> imply? How should we handle missing values?</a></li>
  </ul></li>
  <li><a href="#two-categorical-variables" id="toc-two-categorical-variables" class="nav-link" data-scroll-target="#two-categorical-variables">Two Categorical Variables</a>
  <ul class="collapse">
  <li><a href="#heatmap" id="toc-heatmap" class="nav-link" data-scroll-target="#heatmap"><strong>Heatmap</strong></a></li>
  <li><a href="#your-turn-15" id="toc-your-turn-15" class="nav-link" data-scroll-target="#your-turn-15"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></a></li>
  </ul></li>
  <li><a href="#two-continuous-variables" id="toc-two-continuous-variables" class="nav-link" data-scroll-target="#two-continuous-variables">Two Continuous Variables</a>
  <ul class="collapse">
  <li><a href="#scatter-plot" id="toc-scatter-plot" class="nav-link" data-scroll-target="#scatter-plot"><strong>Scatter plot</strong></a></li>
  <li><a href="#answer-here" id="toc-answer-here" class="nav-link" data-scroll-target="#answer-here"><strong>ğŸ‘‰ Answer</strong> here <strong>â¤µ</strong></a></li>
  <li><a href="#level-a.-the-most-basic-level-for-a-scatter-plot" id="toc-level-a.-the-most-basic-level-for-a-scatter-plot" class="nav-link" data-scroll-target="#level-a.-the-most-basic-level-for-a-scatter-plot">Level a. The most basic level for a <strong>scatter</strong> plot</a></li>
  <li><a href="#your-turn-16" id="toc-your-turn-16" class="nav-link" data-scroll-target="#your-turn-16"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></a></li>
  <li><a href="#level-b.-add-another-layer-with-labels" id="toc-level-b.-add-another-layer-with-labels" class="nav-link" data-scroll-target="#level-b.-add-another-layer-with-labels">Level b. Add another layer with labels</a></li>
  <li><a href="#your-turn-17" id="toc-your-turn-17" class="nav-link" data-scroll-target="#your-turn-17"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></a></li>
  <li><a href="#level-c.-add-scale-with-a-different-color." id="toc-level-c.-add-scale-with-a-different-color." class="nav-link" data-scroll-target="#level-c.-add-scale-with-a-different-color.">Level c.&nbsp;Add <strong>Scale</strong> with a different color.</a></li>
  <li><a href="#can-we-notice-anything-about-enrollment-status" id="toc-can-we-notice-anything-about-enrollment-status" class="nav-link" data-scroll-target="#can-we-notice-anything-about-enrollment-status">â“ Can we notice anything about enrollment status?</a></li>
  <li><a href="#your-turn-18" id="toc-your-turn-18" class="nav-link" data-scroll-target="#your-turn-18"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></a></li>
  <li><a href="#level-d.-divide-up-graphs-using-facet-to-visualize-by-subject." id="toc-level-d.-divide-up-graphs-using-facet-to-visualize-by-subject." class="nav-link" data-scroll-target="#level-d.-divide-up-graphs-using-facet-to-visualize-by-subject.">Level d.&nbsp;Divide up graphs using facet to visualize by subject.</a></li>
  <li><a href="#your-turn-19" id="toc-your-turn-19" class="nav-link" data-scroll-target="#your-turn-19"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></a></li>
  <li><a href="#level-e.-how-can-we-remove-nas-from-plot-and-what-will-the-code-look-like-without-the-comments" id="toc-level-e.-how-can-we-remove-nas-from-plot-and-what-will-the-code-look-like-without-the-comments" class="nav-link" data-scroll-target="#level-e.-how-can-we-remove-nas-from-plot-and-what-will-the-code-look-like-without-the-comments">Level e. How can we remove NAâ€™s from plot? and What will the code look like without the comments?</a></li>
  </ul></li>
  <li><a href="#identifying-outliers" id="toc-identifying-outliers" class="nav-link" data-scroll-target="#identifying-outliers">Identifying Outliers</a>
  <ul class="collapse">
  <li><a href="#box-plot" id="toc-box-plot" class="nav-link" data-scroll-target="#box-plot"><strong>Box Plot</strong></a></li>
  <li><a href="#your-turn-20" id="toc-your-turn-20" class="nav-link" data-scroll-target="#your-turn-20"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></a></li>
  </ul></li>
  <li><a href="#highlighting-outliers" id="toc-highlighting-outliers" class="nav-link" data-scroll-target="#highlighting-outliers">Highlighting Outliers</a>
  <ul class="collapse">
  <li><a href="#your-turn-21" id="toc-your-turn-21" class="nav-link" data-scroll-target="#your-turn-21"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></a></li>
  </ul></li>
  <li><a href="#step-1-identify-outliers-using-the-iqr-method" id="toc-step-1-identify-outliers-using-the-iqr-method" class="nav-link" data-scroll-target="#step-1-identify-outliers-using-the-iqr-method">Step 1: Identify Outliers Using the IQR Method</a></li>
  <li><a href="#step-2-visualize-the-data-with-and-without-outliers" id="toc-step-2-visualize-the-data-with-and-without-outliers" class="nav-link" data-scroll-target="#step-2-visualize-the-data-with-and-without-outliers">Step 2: Visualize the Data with and without Outliers</a>
  <ul class="collapse">
  <li><a href="#box-plot-with-outliers" id="toc-box-plot-with-outliers" class="nav-link" data-scroll-target="#box-plot-with-outliers"><strong>Box Plot with Outliers</strong>:</a></li>
  <li><a href="#box-plot-without-outliers" id="toc-box-plot-without-outliers" class="nav-link" data-scroll-target="#box-plot-without-outliers"><strong>Box Plot without Outliers</strong>:</a></li>
  </ul></li>
  <li><a href="#step-3-exploratory-analysis-questions" id="toc-step-3-exploratory-analysis-questions" class="nav-link" data-scroll-target="#step-3-exploratory-analysis-questions">Step 3: Exploratory Analysis Questions</a></li>
  </ul></li>
  <li><a href="#model-module-3" id="toc-model-module-3" class="nav-link" data-scroll-target="#model-module-3">4. Model (Module 3)</a>
  <ul>
  <li><a href="#install-necessary-packages-in-terminal" id="toc-install-necessary-packages-in-terminal" class="nav-link" data-scroll-target="#install-necessary-packages-in-terminal">Install necessary packages in terminal</a></li>
  <li><a href="#a.-correlation-matrix" id="toc-a.-correlation-matrix" class="nav-link" data-scroll-target="#a.-correlation-matrix">A. Correlation Matrix</a></li>
  <li><a href="#b.-predict-academic-achievement" id="toc-b.-predict-academic-achievement" class="nav-link" data-scroll-target="#b.-predict-academic-achievement">B. Predict Academic Achievement</a></li>
  <li><a href="#linear-regression" id="toc-linear-regression" class="nav-link" data-scroll-target="#linear-regression"><strong>Linear Regression</strong></a></li>
  <li><a href="#your-turn-22" id="toc-your-turn-22" class="nav-link" data-scroll-target="#your-turn-22"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></a></li>
  <li><a href="#your-turn-23" id="toc-your-turn-23" class="nav-link" data-scroll-target="#your-turn-23"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></a></li>
  <li><a href="#d.-assumptions" id="toc-d.-assumptions" class="nav-link" data-scroll-target="#d.-assumptions">D. Assumptions</a></li>
  <li><a href="#your-turn-24" id="toc-your-turn-24" class="nav-link" data-scroll-target="#your-turn-24"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></a></li>
  <li><a href="#general-rule-of-thumb-for-vif" id="toc-general-rule-of-thumb-for-vif" class="nav-link" data-scroll-target="#general-rule-of-thumb-for-vif">General Rule of Thumb for VIF:</a></li>
  <li><a href="#your-turn-25" id="toc-your-turn-25" class="nav-link" data-scroll-target="#your-turn-25"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></a></li>
  <li><a href="#stop-here.-congratulations-you-finished-the-third-part-of-the-case-study." id="toc-stop-here.-congratulations-you-finished-the-third-part-of-the-case-study." class="nav-link" data-scroll-target="#stop-here.-congratulations-you-finished-the-third-part-of-the-case-study.">ğŸ›‘ Stop here. Congratulations you finished the third part of the case study.</a></li>
  </ul></li>
  <li><a href="#communicate-module-4" id="toc-communicate-module-4" class="nav-link" data-scroll-target="#communicate-module-4">5. Communicate (Module 4)</a>
  <ul>
  <li><a href="#your-turn-26" id="toc-your-turn-26" class="nav-link" data-scroll-target="#your-turn-26"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></a></li>
  </ul></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Narrated: Foundations Case Study - Key</h1>
<p class="subtitle lead">Independent/Group work</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>The LASER Team </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="introduction" class="level2">
<h2 class="anchored" data-anchor-id="introduction">0. INTRODUCTION</h2>
<p>We will focus on online science classes provided through a state-wide online virtual school and conduct an analysis that help product studentsâ€™ performance in these online courses. This case study is guided by a foundational study in Learning Analytics that illustrates how analyses like these can be used develop an early warning system for educators to identify students at risk of failing and intervene before that happens.</p>
<p>Over the next labs we will dive into the Learning Analytics Workflow as follows:</p>
<p><img src="img/workflow.png" class="img-fluid" style="width:78.0%"></p>
<p>Figure 1. Steps of Data-Intensive Research Workflow</p>
<ol type="1">
<li><strong>Prepare</strong>: Prior to analysis, itâ€™s critical to understand the context and data sources youâ€™re working with so you can formulate useful and answerable questions. Youâ€™ll also need to become familiar with and load essential packages for analysis, and learn to load and view the data for analysis.</li>
<li><strong>Wrangle</strong>: Wrangling data entails the work of manipulating, cleaning, transforming, and merging data. In Part 2 we focus on importing CSV files, tidying and joining our data.</li>
<li><strong>Explore</strong>: In Part 3, we use basic data visualization and calculate some summary statistics to explore our data and see what insight it provides in response to our questions.</li>
<li><strong>Model:</strong> After identifying variables that may be related to student performance through exploratory analysis, weâ€™ll look at correlations and create some simple models of our data using linear regression.</li>
<li><strong>Communicate:</strong> To wrap up our case study, weâ€™ll develop our first â€œdata productâ€ and share our analyses and findings by creating our first web page using Markdown.</li>
<li><strong>Change Idea:</strong> Having developed a webpage using Markdown, share your findings with the colleagues. The page will include interactive plots and a detailed explanation of the analysis process, serving as a case study for other educators in your school. Present your findings at a staff meeting, advocating for a broader adoption of data-driven strategies across curriculums.</li>
</ol>
<hr>
</section>
<section id="module-1-prepare-and-wrangle" class="level2">
<h2 class="anchored" data-anchor-id="module-1-prepare-and-wrangle">Module 1: Prepare and Wrangle</h2>
</section>
<section id="prepare" class="level2">
<h2 class="anchored" data-anchor-id="prepare">1. PREPARE</h2>
<p>This case study is guided by a well-cited publication from two authors that have made numerous contributions to the field of Learning Analytics over the years. This article is focused on â€œearly warning systemsâ€ in higher education, and where adoption of learning management systems (LMS) like Moodle and Canvas gained a quicker foothold.</p>
<p>Macfadyen, L. P., &amp; Dawson, S. (2010). <a href="https://www.sciencedirect.com/science/article/pii/S0360131509002486?via%3Dihub">Mining LMS data to develop an â€œearly warning systemâ€ for educators: A proof of concept.</a> <em>Computers &amp; education</em>,&nbsp;<em>54</em>(2), 588-599.</p>
<section id="about-the-study" class="level4">
<h4 class="anchored" data-anchor-id="about-the-study">ABOUT the study</h4>
<p>Previous research has indicated that universities and colleges could utilize Learning Management System (LMS) data to create reporting tools that identify students who are at risk and enable prompt pedagogical interventions. The present study validates and expands upon this idea by presenting data from an international research project that explores the specific online activities of students that reliably indicate their academic success. This paper confirms and extends this proposition by providing data from an international research project investigating <strong>which student online activities accurately predict academic achievement.</strong></p>
<p>The <strong>data analyzed</strong> in this exploratory research was extracted from the <strong>course-based instructor tracking logs</strong> and the <strong>BB Vista production server</strong>.</p>
<p>Data collected on each student included â€˜whole termâ€™ counts for frequency of usage of course materials and tools supporting content delivery, engagement and discussion, assessment and administration/management. In addition, tracking data indicating total time spent on certain tool-based activities (assessments, assignments, total time online) offered a total measure of individual student time on task.</p>
<p>The authors used scatter plots for identifying potential relationships between variables under investigation, followed by a a simple correlation analysis of each variable to further interrogate the significance of selected variables as indicators of student achievement. Finally, a linear multiple regression analysis was conducted in order to develop a predictive model in which a student final grade was the continuous dependent variable.</p>
<table class="caption-top table">
<colgroup>
<col style="width: 101%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Introduction to the <u>Stakeholder</u></strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><p><strong>Name:</strong> Alex Johnson</p>
<p><strong>Role:</strong> University Science Professor</p>
<p><strong>Experience:</strong> 5 years teaching, enthusiastic about integrating technology in education</p>
<p><strong>Goal:</strong> Alex aims to improve student engagement and performance in her online science classes.</p></td>
</tr>
</tbody>
</table>
<style>
    .wrap-img {
        float: left;
        margin-right: 10px;
        width: 10%;
    }
</style>
<p><img src="img/teacher%20persona.png" alt="Teacher Persona" class="wrap-img"> <strong><em>Alex begins by understanding the importance of data analysis in identifying students who might need extra support. The cited foundational study motivates her to explore similar analyses to develop her own early warning system.</em></strong></p>
</section>
<section id="a.-load-packages" class="level3">
<h3 class="anchored" data-anchor-id="a.-load-packages">1a. Load Packages ğŸ“¦</h3>
<p>Packages - sometimes referred to as libraries, are shareable collections of code that can contain functions, data, and/or documentation and extend the functionality of the coding language.</p>
<p>We will work with a dataset that was obtained from a learning management system (LMS). We will use libraries pandas (https://pandas.pydata.org/docs/) to read and analyze the data. We will also be using matptlotlib (https://matplotlib.org/stable/users/index.html) package to visualize data distribution, and finally we will use scikit-learn (https://scikit-learn.org/stable/) and numpy (https://numpy.org/devdocs/) to run our regression model.</p>
<p>If you are in a fresh Python 3 environment, installing the packages in the <code>Terminal</code> will provide everything required to execute with Quarto:</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>everything after the <code>$</code> in the Terminal</strong> (MAC/LINUX)</p>
<p>$ python3 -m pip install pandas</p>
<p>$ python3 -m pip install numpy</p>
<p>$ python3 -m pip install scikit-learn</p>
<p>$ python3 -m pip install matplotlib</p>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>everything after the <code>$</code> in the Terminal</strong> (Windows)</p>
<p>$ py -m pip install pandas</p>
<p>$ py -m pip install numpy</p>
<p>$ py -m pip install scikit-learn</p>
<p>$ py -m pip install matplotlib</p>
</div>
</div>
<p>Once installed, click the arrow to execute your code in a cell below.</p>
<div id="9c85bb1c" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Load Libraries below needed for analysis</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.linear_model <span class="im">import</span> LinearRegression</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="data-sources" class="level3">
<h3 class="anchored" data-anchor-id="data-sources">Data Sources</h3>
<section id="data-source-1-log-data" class="level4">
<h4 class="anchored" data-anchor-id="data-source-1-log-data">Data Source #1: Log Data</h4>
<p>Log-trace data is data generated from our interactions with digital technologies, such as archived data from social media postings. In education, an increasingly common source of log-trace data is that generated from interactions with LMS and other digital tools.</p>
<p>The data we will use has already been â€œwrangledâ€ quite a bit and is a summary type of log-trace data: the number of minutes students spent on the course. While this data type is fairly straightforward, there are even more complex sources of log-trace data out there (e.g., time stamps associated with when students started and stopped accessing the course).</p>
<p><strong>Variable Description:</strong></p>
<table class="caption-top table">
<caption>Course Acronym description</caption>
<colgroup>
<col style="width: 29%">
<col style="width: 70%">
</colgroup>
<thead>
<tr class="header">
<th>Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>student_id</code></td>
<td>students id at institution</td>
</tr>
<tr class="even">
<td><code>course_id</code></td>
<td>abbreviation for course, course number, semester |</td>
</tr>
<tr class="odd">
<td><code>gender</code></td>
<td>male/female/NA</td>
</tr>
<tr class="even">
<td><code>enrol lment_reason</code></td>
<td>reason student decided to take the course</td>
</tr>
<tr class="odd">
<td><code>enrol lment_status</code></td>
<td>ap prove/enrolled, dropped, withdrawn</td>
</tr>
<tr class="even">
<td><code>time_spent</code></td>
<td>Time spent in hours for entire course</td>
</tr>
</tbody>
</table>
<ul>
<li>â€œAnPhAâ€ = â€œAnatomyâ€,</li>
<li>â€œBioAâ€ = â€œBiologyâ€,</li>
<li>â€œFrScAâ€ = â€œForensicsâ€,</li>
<li>â€œOcnAâ€ = â€œOceanographyâ€,</li>
<li>â€œPhysAâ€ = â€œPhysicsâ€</li>
</ul>
</section>
<section id="data-source-2-academic-achievement-data" class="level4">
<h4 class="anchored" data-anchor-id="data-source-2-academic-achievement-data">Data Source #2: Academic Achievement Data</h4>
<p><strong>Variable Description:</strong></p>
<table class="caption-top table">
<colgroup>
<col style="width: 36%">
<col style="width: 63%">
</colgroup>
<thead>
<tr class="header">
<th>Variable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>total_p oints_possible</code></td>
<td>available points for the course</td>
</tr>
<tr class="even">
<td><code>total _points_earned</code></td>
<td>stud | ent earned for the entire course |</td>
</tr>
</tbody>
</table>
</section>
<section id="data-source-3-self-report-survey" class="level4">
<h4 class="anchored" data-anchor-id="data-source-3-self-report-survey">Data Source #3: Self-Report Survey</h4>
<p>The third data source is a self-report survey or an attitude survey. This was data collected before the start of the course. The survey included ten items, each corresponding to one of three motivation measures: interest, utility value, and perceived competence. These were chosen for their alignment with one way to think about studentsâ€™ motivation, to what extent they expect to do well (corresponding to their perceived competence) and their value for what they are learning (corresponding to their interest and utility value).</p>
<p><strong>Variable Description:</strong></p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Var iable</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>int</code></td>
<td>student science interest</td>
</tr>
<tr class="even">
<td><code>tv</code></td>
<td><code>tv</code></td>
</tr>
<tr class="odd">
<td><code>Q1 -Q10</code></td>
<td>survey questions</td>
</tr>
</tbody>
</table>
<ol type="1">
<li>I think this course is an interesting subject. (Interest)</li>
<li>What I am learning in this class is relevant to my life. (Utility value)</li>
<li>I consider this topic to be one of my best subjects. (Perceived competence)</li>
<li>I am not interested in this course. (Interestâ€”reverse coded)</li>
<li>I think I will like learning about this topic. (Interest)</li>
<li>I think what we are studying in this course is useful for me to know. (Utility value)</li>
<li>I donâ€™t feel comfortable when it comes to answering questions in this area. (Perceived competenceâ€“reverse coded)</li>
<li>I think this subject is interesting. (Interest)</li>
<li>I find the content of this course to be personally meaningful. (Utility value)</li>
<li>Iâ€™ve always wanted to learn more about this subject. (Interest)</li>
</ol>
</section>
</section>
</section>
<section id="wrangle" class="level2">
<h2 class="anchored" data-anchor-id="wrangle">2. WRANGLE</h2>
<section id="import-data" class="level3">
<h3 class="anchored" data-anchor-id="import-data">Import data</h3>
<p>We will need to load in and inspect each of the dataframes that we will use for this lab. You will first read about the dataframe and then learn how to load (or read in) the dataframe into the quarto document.</p>
<section id="time-spent" class="level4">
<h4 class="anchored" data-anchor-id="time-spent"><strong>Time spent</strong></h4>
<p>Letâ€™s use the <code>pd.read_csv()</code> function from to import our <code>log-data.csv</code> file directly from our data folder and name this data set <code>time_spent</code>, to help us to quickly recollect what function it serves in this analysis:</p>
<p>Load the file <code>log-data.csv</code> from data folder and save object as <code>time_spent</code>.</p>
</section>
<section id="creating-new-object" class="level4">
<h4 class="anchored" data-anchor-id="creating-new-object">Creating new object</h4>
<p>To do that, we need to create a new object <code>time_spent</code> which is done by naming the object and assigning its value using <code>=</code> operator.</p>
<p>Press the green arrow head to run the code below:</p>
<div id="87aae825" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load log file from data folder</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>time_spent <span class="op">=</span> pd.read_csv(<span class="st">"data/log-data.csv"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co">#inspect data</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co">#YOUR CODE HERE:</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>time_spent.head()</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co">#or Inspect using the print function</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(time_spent.head())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   student_id      course_id gender                   enrollment_reason  \
0       60186  AnPhA-S116-01      M  Course Unavailable at Local School   
1       66693  AnPhA-S116-01      M  Course Unavailable at Local School   
2       66811  AnPhA-S116-01      F  Course Unavailable at Local School   
3       66862  AnPhA-S116-01      F  Course Unavailable at Local School   
4       67508  AnPhA-S116-01      F                 Scheduling Conflict   

   enrollment_status  time_spent  
0  Approved/Enrolled   2087.0501  
1  Approved/Enrolled   2309.0334  
2  Approved/Enrolled   5298.8507  
3  Approved/Enrolled   1746.9667  
4  Approved/Enrolled   2668.1830  </code></pre>
</div>
</div>
</section>
<section id="convert-python-to-r-tibble" class="level4">
<h4 class="anchored" data-anchor-id="convert-python-to-r-tibble">Convert Python to R tibble</h4>
<p>You may have noticed that the dataframe is hard to see and understand what is going on. You can leverage the <code>reticulate</code> and <code>tidyverse</code> package to pass the python object back into R so you can view it using like you would an R tibble or data frame.</p>
<p>If you can not load the packages using the <code>library()</code> function in R. You may need to first use the â€™install.packages(â€ â€œ) function in the console to install the packages. THen rerun the code chunk.</p>
<p>You will also notice that we changed the code chunk to {r}.</p>
<pre class="{r}"><code>#Load reticulate and tidyverse package
library(reticulate)
library(tidyverse)

# Read python object into R using 'py$` syntax
time_spent_r = as_tibble(py$time_spent)

# View R object as per usual
tail(time_spent_r)
</code></pre>
</section>
<section id="grades" class="level4">
<h4 class="anchored" data-anchor-id="grades"><strong>Grades</strong></h4>
<p>Load the file <code>gradebook-summary.csv</code> from data folder and save object as <code>gradebook</code></p>
<p>â—ï¸In R, everything is an <strong>object</strong>. In Python, everything you interact with is an object, whether itâ€™s a simple data type like an integer or a string, or a more complex structure like a list, dictionary, or a user-defined class. This means that every entity has a data type, is stored in a specific memory location, and can have methods (functions) associated with it.</p>
<p>A <strong>dataset</strong> typically refers to a collection of data, often stored in a tabular format with rows and columns.</p>
<section id="your-turn" class="level5">
<h5 class="anchored" data-anchor-id="your-turn"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></h5>
<p>You need to:</p>
<ol type="1">
<li>First, use the correct function to read in the .csv file and load the <code>gradebook-summary.csv</code> file.</li>
<li>Second, add a function to the code (to inspect the data (your choice).</li>
<li>Third, press the green arrow head to run the code.</li>
</ol>
<div id="85de5934" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load grade book data from data folder</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="co">#YOUR CODE HERE:</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>gradebook <span class="op">=</span> pd.read_csv(<span class="st">"data/gradebook-summary.csv"</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="co">#inspect data</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co">#YOUR CODE HERE:</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(gradebook)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     student_id      course_id  total_points_possible  total_points_earned
0         43146  FrScA-S216-02                   1217           1150.00000
1         44638   OcnA-S116-01                   1676           1384.23000
2         47448  FrScA-S216-01                   1232           1116.00000
3         47979   OcnA-S216-01                   1833           1492.73000
4         48797  PhysA-S116-01                   2225           1994.75000
..          ...            ...                    ...                  ...
712      263906   OcnA-S217-03                   1676           1275.47000
713      264514  AnPhA-S217-02                   1775           1710.50000
714      264721  PhysA-S217-01                   2225           2169.00000
715      265311  AnPhA-S217-02                   1775           1131.16666
716      265635   OcnA-S217-01                   1791           1338.00000

[717 rows x 4 columns]</code></pre>
</div>
</div>
</section>
</section>
<section id="self-reporting-survey" class="level4">
<h4 class="anchored" data-anchor-id="self-reporting-survey">Self-reporting survey</h4>
<p>Load the file <code>survey.csv</code> from data folder.</p>
<section id="your-turn-1" class="level5">
<h5 class="anchored" data-anchor-id="your-turn-1"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></h5>
<p>You need to:</p>
<ol type="1">
<li>First, use the correct function to read in the .csv file and load the <code>survey.csv</code> file.</li>
<li>Second, add a function to the code (to inspect the data (your choice).</li>
<li>Third, press the green arrow head to run the code.</li>
</ol>
</section>
</section>
<section id="your-turn-2" class="level4">
<h4 class="anchored" data-anchor-id="your-turn-2"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></h4>
<p>You need to:</p>
<ol type="1">
<li>First, use the correct function to read in the .csv file and load the <code>survey.csv</code> file.</li>
<li>Second, add a function to the code (to inspect the data (your choice).</li>
<li>Third, press the green arrow head to run the code.</li>
</ol>
<div id="9b04e30b" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load survey data from data folder</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="co">#YOUR CODE HERE:</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>survey <span class="op">=</span> pd.read_csv(<span class="st">"data/survey.csv"</span>)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a><span class="co">#inspect data</span></span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="co">#YOUR CODE HERE:</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(survey.tail())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     student_ID      course_ID subject semester  section  int       val  \
657          42  FrScA-S217-01   FrScA     S217        1  4.0  4.000000   
658          52  FrScA-S217-03   FrScA     S217        3  4.4  2.666667   
659          57  FrScA-S217-01   FrScA     S217        1  4.4  2.333333   
660          72  FrScA-S217-01   FrScA     S217        1  5.0  3.000000   
661          80  FrScA-S217-01   FrScA     S217        1  3.6  2.333333   

     percomp     tv   q1  ...   q8   q9  q10  date.x  post_int  post_uv  \
657      4.0  4.000  4.0  ...  4.0  4.0  4.0     NaN       NaN      NaN   
658      3.5  3.750  4.0  ...  4.0  3.0  5.0     NaN       NaN      NaN   
659      2.5  3.625  5.0  ...  5.0  2.0  4.0     NaN       NaN      NaN   
660      4.0  4.250  5.0  ...  5.0  3.0  5.0     NaN       NaN      NaN   
661      3.0  3.125  4.0  ...  4.0  2.0  3.0     NaN       NaN      NaN   

     post_tv  post_percomp  date.y                  date  
657      NaN           NaN     NaN  2017-01-30T19:05:00Z  
658      NaN           NaN     NaN  2017-02-13T13:00:00Z  
659      NaN           NaN     NaN  2017-01-27T16:48:00Z  
660      NaN           NaN     NaN  2017-02-06T12:31:00Z  
661      NaN           NaN     NaN  2017-01-23T16:49:00Z  

[5 rows x 26 columns]</code></pre>
</div>
</div>
</section>
<section id="convert-python-to-r-tibble-1" class="level4">
<h4 class="anchored" data-anchor-id="convert-python-to-r-tibble-1">Convert Python to R tibble</h4>
<section id="your-turn-3" class="level5">
<h5 class="anchored" data-anchor-id="your-turn-3"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></h5>
<p>You need to:</p>
<ol type="1">
<li>First, read the python into r using the py$ syntax and save as a new object called survey_r.</li>
<li>Second, inspect R object using R function <code>head()</code>.</li>
<li>Third, press the green arrow head to run the code.</li>
</ol>
<pre class="{r}"><code>
# Read python object into R using 'py$` syntax
#YOUR CODE HERE:
survey_r = as_tibble(py$survey)

# View R object as per usual
#YOUR CODE HERE:
head(survey_r)</code></pre>
</section>
</section>
<section id="using-info-and-describefunction." class="level4">
<h4 class="anchored" data-anchor-id="using-info-and-describefunction.">Using <code>info()</code> and <code>describe()</code>function.</h4>
<p>Using these methods together to get a detailed overview of your DataFrame will give you a glmpse of your data.</p>
<div id="8f211138" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(gradebook.info())</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(gradebook.describe())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 717 entries, 0 to 716
Data columns (total 4 columns):
 #   Column                 Non-Null Count  Dtype  
---  ------                 --------------  -----  
 0   student_id             717 non-null    int64  
 1   course_id              717 non-null    object 
 2   total_points_possible  717 non-null    int64  
 3   total_points_earned    717 non-null    float64
dtypes: float64(1), int64(2), object(1)
memory usage: 22.5+ KB
None
          student_id  total_points_possible  total_points_earned
count     717.000000             717.000000           717.000000
mean   113503.008368            1619.546722          1229.981469
std     63884.000076             387.123588           510.642484
min     43146.000000            1212.000000             0.000000
25%     85953.000000            1217.000000          1002.500000
50%     90095.000000            1676.000000          1177.130000
75%     95633.000000            1791.000000          1572.450000
max    265635.000000            2425.000000          2413.500000</code></pre>
</div>
</div>
</section>
<section id="using-global-environment" class="level4">
<h4 class="anchored" data-anchor-id="using-global-environment">Using Global Environment</h4>
<p>This feature can only be used if you change to R object.</p>
<p><img src="img/global%20environment.png" class="img-fluid" style="width:34.0%"></p>
<p><img src="img/gradebook.png" class="img-fluid" style="width:50.0%"> *******change the pictures for python.</p>
</section>
<section id="inspecting-first-and-last-few-rows" class="level4">
<h4 class="anchored" data-anchor-id="inspecting-first-and-last-few-rows">Inspecting first and last few rows</h4>
<div id="096419a3" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># First few rows</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(survey.head())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   student_ID      course_ID subject semester  section  int       val  \
0       43146  FrScA-S216-02   FrScA     S216        2  4.2  3.666667   
1       44638   OcnA-S116-01    OcnA     S116        1  4.0  3.000000   
2       47448  FrScA-S216-01   FrScA     S216        1  4.2  3.000000   
3       47979   OcnA-S216-01    OcnA     S216        1  4.0  3.666667   
4       48797  PhysA-S116-01   PhysA     S116        1  3.8  3.666667   

   percomp        tv   q1  ...   q8   q9  q10                date.x  post_int  \
0      4.0  3.857143  4.0  ...  4.0  3.0  4.0  2016-02-02T18:44:00Z       NaN   
1      3.0  3.571429  4.0  ...  4.0  3.0  4.0  2015-09-09T13:41:00Z       NaN   
2      3.0  3.714286  5.0  ...  4.0  3.0  4.0  2016-01-28T14:01:00Z       NaN   
3      2.5  3.857143  4.0  ...  4.0  4.0  4.0  2016-01-27T13:04:00Z       NaN   
4      3.5  3.714286  4.0  ...  4.0  3.0  3.0  2015-09-14T16:01:00Z       NaN   

   post_uv  post_tv  post_percomp  date.y date  
0      NaN      NaN           NaN     NaN  NaN  
1      NaN      NaN           NaN     NaN  NaN  
2      NaN      NaN           NaN     NaN  NaN  
3      NaN      NaN           NaN     NaN  NaN  
4      NaN      NaN           NaN     NaN  NaN  

[5 rows x 26 columns]</code></pre>
</div>
</div>
<div id="e8e504d2" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Last few rows</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(survey.tail())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     student_ID      course_ID subject semester  section  int       val  \
657          42  FrScA-S217-01   FrScA     S217        1  4.0  4.000000   
658          52  FrScA-S217-03   FrScA     S217        3  4.4  2.666667   
659          57  FrScA-S217-01   FrScA     S217        1  4.4  2.333333   
660          72  FrScA-S217-01   FrScA     S217        1  5.0  3.000000   
661          80  FrScA-S217-01   FrScA     S217        1  3.6  2.333333   

     percomp     tv   q1  ...   q8   q9  q10  date.x  post_int  post_uv  \
657      4.0  4.000  4.0  ...  4.0  4.0  4.0     NaN       NaN      NaN   
658      3.5  3.750  4.0  ...  4.0  3.0  5.0     NaN       NaN      NaN   
659      2.5  3.625  5.0  ...  5.0  2.0  4.0     NaN       NaN      NaN   
660      4.0  4.250  5.0  ...  5.0  3.0  5.0     NaN       NaN      NaN   
661      3.0  3.125  4.0  ...  4.0  2.0  3.0     NaN       NaN      NaN   

     post_tv  post_percomp  date.y                  date  
657      NaN           NaN     NaN  2017-01-30T19:05:00Z  
658      NaN           NaN     NaN  2017-02-13T13:00:00Z  
659      NaN           NaN     NaN  2017-01-27T16:48:00Z  
660      NaN           NaN     NaN  2017-02-06T12:31:00Z  
661      NaN           NaN     NaN  2017-01-23T16:49:00Z  

[5 rows x 26 columns]</code></pre>
</div>
</div>
</section>
<section id="using-sample-function." class="level4">
<h4 class="anchored" data-anchor-id="using-sample-function.">Using <code>sample()</code> function.</h4>
<p>To randomly sample rows from a DataFrame in Python, you use the sample() method. The following example shows how to randomly select a single row. You can specify the number of rows you want by passing an integer to sample().</p>
<div id="6e1b0d66" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Random sample from 'survey' DataFrame</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(survey.sample(n<span class="op">=</span><span class="dv">10</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     student_ID      course_ID subject semester  section  int       val  \
437       94542  AnPhA-S216-02   AnPhA     S216        2  4.8  4.333333   
540       96950   BioA-S216-01    BioA     S216        1  4.0  4.000000   
547       97374   BioA-S216-01    BioA     S216        1  2.4  2.666667   
377       91607  FrScA-S216-02   FrScA     S216        2  4.4  4.333333   
343       90516  AnPhA-T116-01   AnPhA     T116        1  4.6  4.000000   
569          41  FrScA-S217-03   FrScA     S217        3  4.8  4.666667   
607         134  AnPhA-S217-01   AnPhA     S217        1  4.4  4.666667   
371       91340  FrScA-S116-02   FrScA     S116        2  5.0  4.000000   
356       91065  AnPhA-S116-02   AnPhA     S116        2  4.2  2.666667   
243       87552   BioA-S116-01    BioA     S116        1  4.0  4.666667   

     percomp        tv   q1  ...   q8   q9  q10                date.x  \
437      3.5  4.571429  5.0  ...  5.0  3.0  4.0  2016-01-25T14:31:00Z   
540      3.5  4.285714  4.0  ...  5.0  4.0  4.0  2016-02-24T13:29:00Z   
547      2.5  2.285714  2.0  ...  2.0  2.0  2.0  2016-03-09T14:07:00Z   
377      4.0  4.428571  4.0  ...  4.0  4.0  5.0  2016-03-22T02:49:00Z   
343      3.5  4.428571  5.0  ...  5.0  4.0  5.0  2015-09-10T21:08:00Z   
569      4.5  4.750000  5.0  ...  5.0  4.0  5.0                   NaN   
607      3.0  4.500000  5.0  ...  4.0  4.0  5.0                   NaN   
371      3.0  4.571429  5.0  ...  5.0  5.0  5.0  2015-09-15T14:54:00Z   
356      3.5  3.428571  4.0  ...  4.0  3.0  4.0  2015-09-22T16:33:00Z   
243      NaN  4.285714  4.0  ...  4.0  4.0  4.0  2015-09-17T00:15:00Z   

     post_int  post_uv  post_tv  post_percomp  date.y                  date  
437       NaN      NaN      NaN           NaN     NaN                   NaN  
540       NaN      NaN      NaN           NaN     NaN                   NaN  
547       NaN      NaN      NaN           NaN     NaN                   NaN  
377       NaN      NaN      NaN           NaN     NaN                   NaN  
343       NaN      NaN      NaN           NaN     NaN                   NaN  
569       NaN      NaN      NaN           NaN     NaN  2017-02-10T14:47:00Z  
607       NaN      NaN      NaN           NaN     NaN  2017-01-23T22:13:00Z  
371       NaN      NaN      NaN           NaN     NaN                   NaN  
356       NaN      NaN      NaN           NaN     NaN                   NaN  
243       NaN      NaN      NaN           NaN     NaN                   NaN  

[10 rows x 26 columns]</code></pre>
</div>
</div>
</section>
<section id="your-turn-4" class="level4">
<h4 class="anchored" data-anchor-id="your-turn-4"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></h4>
<p>Inspect three datasets we loaded and answer the question:</p>
<p>â“ What do you notice? What do you wonder about? Did you note the number of observations, the different variables names? Finally what about the classes the variables are such as float, integer, object(string), or logical.</p>
<ul>
<li>YOUR RESPONSE HERE</li>
</ul>
</section>
</section>
<section id="tidy-data" class="level3">
<h3 class="anchored" data-anchor-id="tidy-data">Tidy data</h3>
<p>When working with multiple data sources, itâ€™s essential to ensure that the data types (or classes) of your variables are consistent across datasets. This consistency is crucial for several reasons:</p>
<ul>
<li></li>
<li><p><strong>Data Shaping</strong>: A critical process in data science that involves transforming raw data into a format or structure thatâ€™s better suited for analysis. This process often includes creating new features from existing data, selecting relevant features for models, normalizing data, and ensuring consistent data types across datasets</p></li>
<li><p><strong>Data Merging:</strong> For successful data merging, the key variables used to combine (join) datasets, such as student_id and course_id, must be of the same data type. If one dataset has student_id as a string and another as an integer, they wonâ€™t match correctly, leading to errors or incomplete merges.</p></li>
<li><p><strong>Data Analysis:</strong> Consistent data types ensure that operations performed on the data (like calculations, aggregations, or modeling) work as intended without unexpected type conversion errors.</p></li>
<li><p><strong>Data Interpretation:</strong> Having uniform data types helps in the accurate interpretation of results. For example, numeric data treated as strings might not sort numerically, leading to misleading analysis outcomes.</p></li>
</ul>
<section id="time-spent-1" class="level4">
<h4 class="anchored" data-anchor-id="time-spent-1">1. Time Spent</h4>
<p>Before we merge our datasets, itâ€™s important to first check and then standardize the data types of our key variables. In our case, weâ€™ll focus on ensuring that <code>student_id</code> and <code>course_id</code> are treated as strings (text), regardless of their original format. This is because these IDs might contain leading zeros or other characters that are important to preserve.</p>
</section>
<section id="step-1-check-current-data-types" class="level4">
<h4 class="anchored" data-anchor-id="step-1-check-current-data-types">Step 1: Check Current Data Types</h4>
<p>We use the <code>.dtypes</code> attribute to inspect the current data types of the columns in our datasets. This attribute returns a Series with the data type of each column.</p>
<div id="adda16f5" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Display data types of each column in the datasets</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Data types in 'time_spent':</span><span class="ch">\n</span><span class="st">"</span>, time_spent.dtypes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Data types in 'time_spent':
 student_id             int64
course_id             object
gender                object
enrollment_reason     object
enrollment_status     object
time_spent           float64
dtype: object</code></pre>
</div>
</div>
<p>The <code>student_id</code> being an <code>int64</code> means it was originally stored as a 64-bit integer. This is perfectly normal for columns that serve as identifiers or counters, but when preparing data for merging or comparisons, itâ€™s common practice to convert these integers to strings if theyâ€™re used as categorical or identifier variables. This ensures that operations that rely on exact matches (like merging data frames on an ID field) work as expected, preserving any leading zeros or formatting that might be important.</p>
</section>
<section id="step-2-convert-data-types" class="level4">
<h4 class="anchored" data-anchor-id="step-2-convert-data-types">Step 2: Convert Data Types</h4>
<p>To standardize the data types, we use the <code>.astype()</code> method. This method is used to cast a pandas object to a specified dtype. Here, weâ€™re converting <code>student_id</code> and <code>course_id</code> to strings to ensure that they are treated consistently across all dataframes for accurate merging.</p>
<div id="0a27027d" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert 'student_id' to strings</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>time_spent[<span class="st">'student_id'</span>] <span class="op">=</span> time_spent[<span class="st">'student_id'</span>].astype(<span class="bu">str</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="eba53a56" class="cell" data-execution_count="11">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Inspect data type after conversion</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Updated data types in 'time_spent':</span><span class="ch">\n</span><span class="st">"</span>, time_spent.dtypes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Updated data types in 'time_spent':
 student_id            object
course_id             object
gender                object
enrollment_reason     object
enrollment_status     object
time_spent           float64
dtype: object</code></pre>
</div>
</div>
</section>
<section id="use-simple-column-assignments-in-pandas" class="level4">
<h4 class="anchored" data-anchor-id="use-simple-column-assignments-in-pandas">Use simple column assignments in <code>pandas</code></h4>
<p>As you can see from the dataset, <code>time_spent</code> variable is <em>not</em> set as hour.</p>
<p>Letâ€™s change that. For this, the new column <code>time_spent_hours</code> is created by dividing the existing <code>time_spent</code> column by 60. This conversion assumes that time_spent is measured in minutes and the goal is to convert these minutes into hours.</p>
<div id="c9729dbc" class="cell" data-execution_count="12">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="co"># mutate minutes to hours on time spent and save as new variable.</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>time_spent[<span class="st">'time_spent_hours'</span>] <span class="op">=</span> time_spent[<span class="st">'time_spent'</span>] <span class="op">/</span> <span class="dv">60</span></span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Inspect the updated DataFrame</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(time_spent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    student_id      course_id gender                   enrollment_reason  \
0        60186  AnPhA-S116-01      M  Course Unavailable at Local School   
1        66693  AnPhA-S116-01      M  Course Unavailable at Local School   
2        66811  AnPhA-S116-01      F  Course Unavailable at Local School   
3        66862  AnPhA-S116-01      F  Course Unavailable at Local School   
4        67508  AnPhA-S116-01      F                 Scheduling Conflict   
..         ...            ...    ...                                 ...   
711     107016   OcnA-S217-03      F  Learning Preference of the Student   
712     107210  AnPhA-S217-02      F                 Scheduling Conflict   
713     115238  PhysA-S217-01      M  Learning Preference of the Student   
714     115780  AnPhA-S217-02      F  Learning Preference of the Student   
715     115888   OcnA-S217-01      F  Course Unavailable at Local School   

     enrollment_status  time_spent  time_spent_hours  
0    Approved/Enrolled   2087.0501         34.784168  
1    Approved/Enrolled   2309.0334         38.483890  
2    Approved/Enrolled   5298.8507         88.314178  
3    Approved/Enrolled   1746.9667         29.116112  
4    Approved/Enrolled   2668.1830         44.469717  
..                 ...         ...               ...  
711  Approved/Enrolled    640.2000         10.670000  
712  Approved/Enrolled   1818.1667         30.302778  
713  Approved/Enrolled   2356.8835         39.281392  
714  Approved/Enrolled   1508.0335         25.133892  
715  Approved/Enrolled   2355.5665         39.259442  

[716 rows x 7 columns]</code></pre>
</div>
</div>
<p>In pandas, you can directly assign a new column by specifying the column name in [square brackets] and assigning the calculated values. This modifies the DataFrame in-place unless the operation requires a copy.</p>
</section>
<section id="gradebook" class="level4">
<h4 class="anchored" data-anchor-id="gradebook">2. Gradebook</h4>
<p>As the previous data we will first look at the data types</p>
<section id="your-turn-5" class="level5">
<h5 class="anchored" data-anchor-id="your-turn-5"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></h5>
<p>STEP 1 You need to:</p>
<ol type="1">
<li>First, check current data types.</li>
<li>Second, press the green arrow head to run the code.</li>
</ol>
<div id="c53cee8a" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Display data types of each column in the datasets</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="co">#YOUR CODE HERE:</span></span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Data types in 'gradebook':</span><span class="ch">\n</span><span class="st">"</span>, gradebook.dtypes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Data types in 'gradebook':
 student_id                 int64
course_id                 object
total_points_possible      int64
total_points_earned      float64
dtype: object</code></pre>
</div>
</div>
</section>
<section id="your-turn-6" class="level5">
<h5 class="anchored" data-anchor-id="your-turn-6"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></h5>
<p>STEP 2 You need to:</p>
<ol type="1">
<li>First, convert data types.</li>
<li>Second, inspect the update dataFrame</li>
<li>Third, press the green arrow head to run the code.</li>
</ol>
<div id="b6487f1a" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert 'student_id' to strings</span></span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a><span class="co">#(add code below)</span></span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>gradebook[<span class="st">'student_id'</span>] <span class="op">=</span> gradebook[<span class="st">'student_id'</span>].astype(<span class="bu">str</span>)</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Inspect the updated DataFrame</span></span>
<span id="cb27-6"><a href="#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="co">#YOUR CODE HERE:</span></span>
<span id="cb27-7"><a href="#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Updated data types in 'gradebook':</span><span class="ch">\n</span><span class="st">"</span>, gradebook.dtypes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Updated data types in 'gradebook':
 student_id                object
course_id                 object
total_points_possible      int64
total_points_earned      float64
dtype: object</code></pre>
</div>
</div>
<div id="df75e981" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(gradebook.head(<span class="dv">5</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  student_id      course_id  total_points_possible  total_points_earned
0      43146  FrScA-S216-02                   1217              1150.00
1      44638   OcnA-S116-01                   1676              1384.23
2      47448  FrScA-S216-01                   1232              1116.00
3      47979   OcnA-S216-01                   1833              1492.73
4      48797  PhysA-S116-01                   2225              1994.75</code></pre>
</div>
</div>
</section>
</section>
<section id="use-simple-column-assignments-in-pandas-1" class="level4">
<h4 class="anchored" data-anchor-id="use-simple-column-assignments-in-pandas-1">Use simple column assignments in <code>pandas</code></h4>
<p>As you can see in the gradebook dataframe the <code>total points earned</code> is in points and it is hard to know the proportion. Therefore, we want it to mutate that to a proportion.</p>
<ol type="1">
<li>First, calculate the proportion of total points earned. Create a new column named proportion_earned. This column will be the result of dividing total_points_earned by total_points_possible and then multiplying by 100 to convert the result into a percentage.</li>
<li>Second, inspect the updated DataFrame.</li>
<li>Third, press the green arrow head to run the code.</li>
</ol>
<div id="e903f8a9" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the proportion of total points earned and convert it to percentage, then add as a new column</span></span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="co">#YOUR CODE HERE:</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>gradebook[<span class="st">'proportion_earned'</span>] <span class="op">=</span> (gradebook[<span class="st">'total_points_earned'</span>] <span class="op">/</span> gradebook[<span class="st">'total_points_possible'</span>]) <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Inspect the updated DataFrame</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="co">#YOUR CODE HERE:</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(gradebook)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    student_id      course_id  total_points_possible  total_points_earned  \
0        43146  FrScA-S216-02                   1217           1150.00000   
1        44638   OcnA-S116-01                   1676           1384.23000   
2        47448  FrScA-S216-01                   1232           1116.00000   
3        47979   OcnA-S216-01                   1833           1492.73000   
4        48797  PhysA-S116-01                   2225           1994.75000   
..         ...            ...                    ...                  ...   
712     263906   OcnA-S217-03                   1676           1275.47000   
713     264514  AnPhA-S217-02                   1775           1710.50000   
714     264721  PhysA-S217-01                   2225           2169.00000   
715     265311  AnPhA-S217-02                   1775           1131.16666   
716     265635   OcnA-S217-01                   1791           1338.00000   

     proportion_earned  
0            94.494659  
1            82.591289  
2            90.584416  
3            81.436443  
4            89.651685  
..                 ...  
712          76.102029  
713          96.366197  
714          97.483146  
715          63.727699  
716          74.706868  

[717 rows x 5 columns]</code></pre>
</div>
</div>
<p>Maybe you want to round proportion to two decimal places. We can do that with method chaining. When you add .round(2) or any other method like .sum(), .mean(), etc., after a pandas object like a DataFrame or Series, youâ€™re using whatâ€™s called method chaining. Method chaining is a powerful feature in pandas that allows you to apply multiple methods sequentially in a single line of code. This feature is not only about efficiency but also about making the code cleaner and more readable.</p>
<div id="9fdadbfa" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the proportion of total points earned, convert it to a percentage, and round to two decimal places</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>gradebook[<span class="st">'proportion_earned'</span>] <span class="op">=</span> ((gradebook[<span class="st">'total_points_earned'</span>] <span class="op">/</span> gradebook[<span class="st">'total_points_possible'</span>]) <span class="op">*</span> <span class="dv">100</span>).<span class="bu">round</span>(<span class="dv">2</span>)</span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Inspect the updated DataFrame</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(gradebook)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    student_id      course_id  total_points_possible  total_points_earned  \
0        43146  FrScA-S216-02                   1217           1150.00000   
1        44638   OcnA-S116-01                   1676           1384.23000   
2        47448  FrScA-S216-01                   1232           1116.00000   
3        47979   OcnA-S216-01                   1833           1492.73000   
4        48797  PhysA-S116-01                   2225           1994.75000   
..         ...            ...                    ...                  ...   
712     263906   OcnA-S217-03                   1676           1275.47000   
713     264514  AnPhA-S217-02                   1775           1710.50000   
714     264721  PhysA-S217-01                   2225           2169.00000   
715     265311  AnPhA-S217-02                   1775           1131.16666   
716     265635   OcnA-S217-01                   1791           1338.00000   

     proportion_earned  
0                94.49  
1                82.59  
2                90.58  
3                81.44  
4                89.65  
..                 ...  
712              76.10  
713              96.37  
714              97.48  
715              63.73  
716              74.71  

[717 rows x 5 columns]</code></pre>
</div>
</div>
<p>Now you can assign labels to students at by assigning <strong>pass</strong> if <code>proportion_earned</code> is greater or equal than 50 or <strong>fail</strong> if it is lower.</p>
<div id="81cd68d3" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign 'Pass' if 'proportion_earned' is greater than or equal to 50, otherwise 'Fail'</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>gradebook[<span class="st">'pass_fail'</span>] <span class="op">=</span> np.where(gradebook[<span class="st">'proportion_earned'</span>] <span class="op">&gt;=</span> <span class="dv">50</span>, <span class="st">'Pass'</span>, <span class="st">'Fail'</span>)</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the updated DataFrame</span></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(gradebook)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    student_id      course_id  total_points_possible  total_points_earned  \
0        43146  FrScA-S216-02                   1217           1150.00000   
1        44638   OcnA-S116-01                   1676           1384.23000   
2        47448  FrScA-S216-01                   1232           1116.00000   
3        47979   OcnA-S216-01                   1833           1492.73000   
4        48797  PhysA-S116-01                   2225           1994.75000   
..         ...            ...                    ...                  ...   
712     263906   OcnA-S217-03                   1676           1275.47000   
713     264514  AnPhA-S217-02                   1775           1710.50000   
714     264721  PhysA-S217-01                   2225           2169.00000   
715     265311  AnPhA-S217-02                   1775           1131.16666   
716     265635   OcnA-S217-01                   1791           1338.00000   

     proportion_earned pass_fail  
0                94.49      Pass  
1                82.59      Pass  
2                90.58      Pass  
3                81.44      Pass  
4                89.65      Pass  
..                 ...       ...  
712              76.10      Pass  
713              96.37      Pass  
714              97.48      Pass  
715              63.73      Pass  
716              74.71      Pass  

[717 rows x 6 columns]</code></pre>
</div>
</div>
<p>â—ï¸In this example, <strong><code>gradebook</code></strong> is the data frame, <strong><code>pass_fail</code></strong> is the new variable, and <strong><code>np.where()</code></strong> is a function from {numpy} that assigns â€œPassâ€ if the grade is greater than or equal to 50, and â€œFailâ€ otherwise.</p>
</section>
<section id="survey" class="level4">
<h4 class="anchored" data-anchor-id="survey">3. Survey</h4>
<p>Letâ€™s process our data. First though, take a quick look again by typing <code>survey</code> into the console or using a preferred viewing method to take a look at the data. Do you want to do it with R or Python?</p>
<p>â“ Dhink about the following questions: Does it appear to be the correct file? What do the variables seem to be about? What wrangling steps do we need to take? Taking a quick peak at the data helps us to begin to formulate answers to these and is an important step in any data analysis, especially as we <em>prepare</em> for what we are going to do.</p>
<div id="9050dff7" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co">#inspect using pythn dataframe</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(survey)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>     student_ID      course_ID subject semester  section  int       val  \
0         43146  FrScA-S216-02   FrScA     S216        2  4.2  3.666667   
1         44638   OcnA-S116-01    OcnA     S116        1  4.0  3.000000   
2         47448  FrScA-S216-01   FrScA     S216        1  4.2  3.000000   
3         47979   OcnA-S216-01    OcnA     S216        1  4.0  3.666667   
4         48797  PhysA-S116-01   PhysA     S116        1  3.8  3.666667   
..          ...            ...     ...      ...      ...  ...       ...   
657          42  FrScA-S217-01   FrScA     S217        1  4.0  4.000000   
658          52  FrScA-S217-03   FrScA     S217        3  4.4  2.666667   
659          57  FrScA-S217-01   FrScA     S217        1  4.4  2.333333   
660          72  FrScA-S217-01   FrScA     S217        1  5.0  3.000000   
661          80  FrScA-S217-01   FrScA     S217        1  3.6  2.333333   

     percomp        tv   q1  ...   q8   q9  q10                date.x  \
0        4.0  3.857143  4.0  ...  4.0  3.0  4.0  2016-02-02T18:44:00Z   
1        3.0  3.571429  4.0  ...  4.0  3.0  4.0  2015-09-09T13:41:00Z   
2        3.0  3.714286  5.0  ...  4.0  3.0  4.0  2016-01-28T14:01:00Z   
3        2.5  3.857143  4.0  ...  4.0  4.0  4.0  2016-01-27T13:04:00Z   
4        3.5  3.714286  4.0  ...  4.0  3.0  3.0  2015-09-14T16:01:00Z   
..       ...       ...  ...  ...  ...  ...  ...                   ...   
657      4.0  4.000000  4.0  ...  4.0  4.0  4.0                   NaN   
658      3.5  3.750000  4.0  ...  4.0  3.0  5.0                   NaN   
659      2.5  3.625000  5.0  ...  5.0  2.0  4.0                   NaN   
660      4.0  4.250000  5.0  ...  5.0  3.0  5.0                   NaN   
661      3.0  3.125000  4.0  ...  4.0  2.0  3.0                   NaN   

     post_int  post_uv  post_tv  post_percomp  date.y                  date  
0         NaN      NaN      NaN           NaN     NaN                   NaN  
1         NaN      NaN      NaN           NaN     NaN                   NaN  
2         NaN      NaN      NaN           NaN     NaN                   NaN  
3         NaN      NaN      NaN           NaN     NaN                   NaN  
4         NaN      NaN      NaN           NaN     NaN                   NaN  
..        ...      ...      ...           ...     ...                   ...  
657       NaN      NaN      NaN           NaN     NaN  2017-01-30T19:05:00Z  
658       NaN      NaN      NaN           NaN     NaN  2017-02-13T13:00:00Z  
659       NaN      NaN      NaN           NaN     NaN  2017-01-27T16:48:00Z  
660       NaN      NaN      NaN           NaN     NaN  2017-02-06T12:31:00Z  
661       NaN      NaN      NaN           NaN     NaN  2017-01-23T16:49:00Z  

[662 rows x 26 columns]</code></pre>
</div>
</div>
<pre class="{r}"><code>#inspect using previous r dataframe
head(survey_r)</code></pre>
<p>ğŸ’¡ Also, look at the variable names to check the data types in python.</p>
<div id="b991aa7e" class="cell" data-execution_count="20">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Data types in 'survey':</span><span class="ch">\n</span><span class="st">"</span>, survey.dtypes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Data types in 'survey':
 student_ID        int64
course_ID        object
subject          object
semester         object
section           int64
int             float64
val             float64
percomp         float64
tv              float64
q1              float64
q2              float64
q3              float64
q4              float64
q5              float64
q6              float64
q7              float64
q8              float64
q9              float64
q10             float64
date.x           object
post_int        float64
post_uv         float64
post_tv         float64
post_percomp    float64
date.y           object
date             object
dtype: object</code></pre>
</div>
</div>
</section>
<section id="answer-below" class="level4">
<h4 class="anchored" data-anchor-id="answer-below"><strong>ğŸ‘‰ Answer below</strong> <strong>â¤µ</strong></h4>
<p>Add one or more of the things you notice or wonder about the data here:</p>
<ul>
<li></li>
<li></li>
</ul>
</section>
<section id="convert-data-types-and-inspect" class="level4">
<h4 class="anchored" data-anchor-id="convert-data-types-and-inspect">Convert data types and inspect</h4>
<p>Lets do all the steps together to reduce the code chunks.</p>
<div id="ef6ec211" class="cell" data-execution_count="21">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convert 'student_id' to strings</span></span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>survey[<span class="st">'student_ID'</span>] <span class="op">=</span> survey[<span class="st">'student_ID'</span>].astype(<span class="bu">str</span>)</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a><span class="co">#inspect student_id</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Updated data types in 'survey':</span><span class="ch">\n</span><span class="st">"</span>, survey.dtypes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Updated data types in 'survey':
 student_ID       object
course_ID        object
subject          object
semester         object
section           int64
int             float64
val             float64
percomp         float64
tv              float64
q1              float64
q2              float64
q3              float64
q4              float64
q5              float64
q6              float64
q7              float64
q8              float64
q9              float64
q10             float64
date.x           object
post_int        float64
post_uv         float64
post_tv         float64
post_percomp    float64
date.y           object
date             object
dtype: object</code></pre>
</div>
</div>
</section>
</section>
<section id="data-merging" class="level3">
<h3 class="anchored" data-anchor-id="data-merging">Data merging</h3>
<p>We think, a <code>merge</code> is best for our dataset as we need all the information from all three datasets.</p>
<p>â—ï¸ If you remember some of the variable names are not the same in the <code>survey</code> dataFrame, so, we will need to correct that before merging.</p>
<div id="198a2649" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Rename columns for consistency</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>survey.rename(columns<span class="op">=</span>{<span class="st">'student_ID'</span>: <span class="st">'student_id'</span>, <span class="st">'course_ID'</span>: <span class="st">'course_id'</span>}, inplace<span class="op">=</span><span class="va">True</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="merge-gradebook-dataframe-with-time-spent-dataframe" class="level4">
<h4 class="anchored" data-anchor-id="merge-gradebook-dataframe-with-time-spent-dataframe">Merge gradebook dataFrame with time spent dataFrame</h4>
<p>As a reminder there are different joins. But we will mainly focus on <code>outer_join</code> for our dataset.</p>
<p><img src="img/python_join.png" class="img-fluid" width="467"></p>
<p>Source: <a href="https://www.geeksforgeeks.org/python-pandas-merging-joining-and-concatenating/">Geeks for Geeks</a></p>
</section>
<section id="join-time-spent-dataframe-with-grade-book-dataframe" class="level4">
<h4 class="anchored" data-anchor-id="join-time-spent-dataframe-with-grade-book-dataframe">Join Time Spent dataFrame with Grade book dataFrame</h4>
<p>We are using the <code>pd.merge()</code> function from pandas to combine two datasets: <code>time_spent</code> and <code>gradebook</code>. These datasets are being merged on the common columns <code>student_id</code> and <code>course_id</code> with an <code>outer</code> join.</p>
<div id="a0cad3cc" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Merge all datasets using outer join to ensure no loss of student data</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>joined_data <span class="op">=</span> pd.merge(time_spent, gradebook, on<span class="op">=</span>[<span class="st">'student_id'</span>, <span class="st">'course_id'</span>], how<span class="op">=</span><span class="st">'outer'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Outer Join</strong>: An outer join returns all the rows from both DataFrames, regardless of whether there is a match between the DataFrames. Hereâ€™s how it handles different scenarios:</p>
<ul>
<li><p>If there is a match between <code>student_id</code> and <code>course_id</code> in both DataFrames, it combines the matching rows into a single row in the resulting DataFrame, containing columns from both original DataFrames.</p></li>
<li><p>If a row in either <code>time_spent</code> or <code>gradebook</code> has a <code>student_id</code> and <code>course_id</code> combination that does not exist in the other DataFrame, the resulting DataFrame will still include this row. For the DataFrame where a match was not found, the columns will be filled with <code>NaN</code> (Not a Number), indicating missing data.</p></li>
<li><p>The use of an outer join is particularly useful when you do not want to lose information from either DataFrame, even if there are no corresponding entries in the other DataFrame. This approach is beneficial when compiling a comprehensive record that includes all available data points, allowing for a more thorough analysis later, even if some data is missing.</p></li>
</ul>
</section>
<section id="join-survey-dataframe-with-joined-dataframe" class="level4">
<h4 class="anchored" data-anchor-id="join-survey-dataframe-with-joined-dataframe">Join Survey dataFrame with Joined dataFrame</h4>
<section id="your-turn-7" class="level5">
<h5 class="anchored" data-anchor-id="your-turn-7"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></h5>
<p>You need to:</p>
<ol type="1">
<li>First, use <code>pd.merge</code> function to merge <code>joined_data</code> dataFrame with <code>survey</code> dataFrame with the following variables:</li>
</ol>
<ul>
<li>student_id</li>
<li>course_id</li>
</ul>
<ol start="2" type="1">
<li>Second, save to a new object called <code>data_to_explore</code>.</li>
<li>Third, Inspect the data by clicking the green arrow head.</li>
</ol>
<div id="3aad5f82" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co">#merge joined_data</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a><span class="co">#YOUR CODE HERE:</span></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>data_to_explore <span class="op">=</span> pd.merge(joined_data, survey, on<span class="op">=</span>[<span class="st">'student_id'</span>, <span class="st">'course_id'</span>], how<span class="op">=</span><span class="st">'outer'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="parse-columns" class="level4">
<h4 class="anchored" data-anchor-id="parse-columns">Parse columns</h4>
<p>Parsing aims to split the <code>course_id</code> field into three distinct parts: <code>subject</code>, <code>semester</code>, and <code>section</code>. This is typically done to make the data easier to analyze by categorizing it into more descriptive attributes.</p>
<div id="fd1b447a" class="cell" data-execution_count="25">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co">#parse the 'course_id' to extract 'subject', 'semester', and 'section'</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>data_to_explore[[<span class="st">'subject'</span>, <span class="st">'semester'</span>, <span class="st">'section'</span>]] <span class="op">=</span> data_to_explore[<span class="st">'course_id'</span>].<span class="bu">str</span>.extract(<span class="vs">r'([A-Za-z]+)-(\w+)-(\d+)'</span>)</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data_to_explore)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    student_id      course_id gender                   enrollment_reason  \
0        60186  AnPhA-S116-01      M  Course Unavailable at Local School   
1        66693  AnPhA-S116-01      M  Course Unavailable at Local School   
2        66811  AnPhA-S116-01      F  Course Unavailable at Local School   
3        66862  AnPhA-S116-01      F  Course Unavailable at Local School   
4        67508  AnPhA-S116-01      F                 Scheduling Conflict   
..         ...            ...    ...                                 ...   
938         19  AnPhA-S217-02    NaN                                 NaN   
939         52  FrScA-S217-03    NaN                                 NaN   
940         57  FrScA-S217-01    NaN                                 NaN   
941         72  FrScA-S217-01    NaN                                 NaN   
942         80  FrScA-S217-01    NaN                                 NaN   

     enrollment_status  time_spent  time_spent_hours  total_points_possible  \
0    Approved/Enrolled   2087.0501         34.784168                 1775.0   
1    Approved/Enrolled   2309.0334         38.483890                 1775.0   
2    Approved/Enrolled   5298.8507         88.314178                 1775.0   
3    Approved/Enrolled   1746.9667         29.116112                 1775.0   
4    Approved/Enrolled   2668.1830         44.469717                 1775.0   
..                 ...         ...               ...                    ...   
938                NaN         NaN               NaN                    NaN   
939                NaN         NaN               NaN                    NaN   
940                NaN         NaN               NaN                    NaN   
941                NaN         NaN               NaN                    NaN   
942                NaN         NaN               NaN                    NaN   

     total_points_earned  proportion_earned  ...   q8   q9  q10  \
0             1674.73000              94.35  ...  4.0  4.0  4.0   
1             1674.25000              94.32  ...  5.0  5.0  5.0   
2             1633.15000              92.01  ...  4.0  4.0  4.0   
3             1118.57333              63.02  ...  NaN  NaN  NaN   
4             1528.34333              86.10  ...  NaN  NaN  NaN   
..                   ...                ...  ...  ...  ...  ...   
938                  NaN                NaN  ...  5.0  5.0  5.0   
939                  NaN                NaN  ...  4.0  3.0  5.0   
940                  NaN                NaN  ...  5.0  2.0  4.0   
941                  NaN                NaN  ...  5.0  3.0  5.0   
942                  NaN                NaN  ...  4.0  2.0  3.0   

                   date.x  post_int  post_uv  post_tv  post_percomp  date.y  \
0    2015-09-17T16:41:00Z       NaN      NaN      NaN           NaN     NaN   
1    2015-09-10T17:43:00Z       NaN      NaN      NaN           NaN     NaN   
2    2015-09-10T18:16:00Z       NaN      NaN      NaN           NaN     NaN   
3                     NaN       NaN      NaN      NaN           NaN     NaN   
4                     NaN       NaN      NaN      NaN           NaN     NaN   
..                    ...       ...      ...      ...           ...     ...   
938                   NaN       NaN      NaN      NaN           NaN     NaN   
939                   NaN       NaN      NaN      NaN           NaN     NaN   
940                   NaN       NaN      NaN      NaN           NaN     NaN   
941                   NaN       NaN      NaN      NaN           NaN     NaN   
942                   NaN       NaN      NaN      NaN           NaN     NaN   

                     date  
0                     NaN  
1                     NaN  
2                     NaN  
3                     NaN  
4                     NaN  
..                    ...  
938  2017-02-09T16:42:00Z  
939  2017-02-13T13:00:00Z  
940  2017-01-27T16:48:00Z  
941  2017-02-06T12:31:00Z  
942  2017-01-23T16:49:00Z  

[943 rows x 35 columns]</code></pre>
</div>
</div>
<p>Letâ€™s inspect the dataFrame to see what it looks like. We will save it as an R object again so we can inspect the tibble easier.</p>
<section id="your-turn-8" class="level5">
<h5 class="anchored" data-anchor-id="your-turn-8"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></h5>
<p>You need to:</p>
<ol type="1">
<li>First, read python object into R using â€™py$` syntax</li>
<li>Second, Inspect the new r object with a function of your choosing.</li>
<li>Third, press the green arrow head to run the code</li>
</ol>
<p>â—ï¸ Donâ€™t forget that you need to change the code chunk to R.</p>
<pre class="{r}"><code># Read python object into R using 'py$` syntax
#YOUR CODE HERE:
data_to_explore_r = as_tibble(py$data_to_explore)

# Inspect new R object
#YOUR CODE HERE:
head(data_to_explore_r)
</code></pre>
<p>What was happening with the <strong>code</strong> and <strong>String Extraction</strong>:</p>
<ul>
<li><p><code>.str.extract(r'([A-Za-z]+)-(\w+)-(\d+)')</code>: This method is used to extract parts of the strings using a regular expression (regex).</p>
<ul>
<li><p><code>r'...'</code>: The <code>r</code> before the quotes indicates a raw string, which tells Python to interpret the backslashes in the string as literal characters, not as escape characters.</p></li>
<li><p><code>([A-Za-z]+)</code>: This regex pattern captures a sequence of alphabetic characters. It represents the <code>subject</code> (e.g., â€œAnPhAâ€ for Anatomy and Physiology). The <code>+</code> ensures it captures one or more characters.</p></li>
<li><p><code>(\w+)</code>: This captures a sequence of alphanumeric characters (including underscores), which in this context represents the <code>semester</code> (e.g., â€œS116â€). The <code>\w</code> stands for any word character, which includes letters, digits, and underscores.</p></li>
<li><p><code>(\d+)</code>: This captures a sequence of digits and represents the <code>section</code> number (e.g., â€œ01â€). The <code>\d</code> stands for any digit, and <code>+</code> ensures one or more digits are captured.</p></li>
</ul></li>
<li><p><code>full_data[['subject', 'semester', 'section']] = ...</code>: This part of the code takes the extracted groups from the regex and assigns them to new columns in the dataFrame <code>full_data</code>. Each group in the regex corresponds to a column on the left-hand side in the order they appear.</p></li>
</ul>
</section>
</section>
<section id="create-a-dictionary-and-replace-names" class="level4">
<h4 class="anchored" data-anchor-id="create-a-dictionary-and-replace-names">Create a dictionary and replace names</h4>
<div id="2cf23447" class="cell" data-execution_count="26">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a dictionary to map abbreviations to full names</span></span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>subject_map <span class="op">=</span> {</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"AnPhA"</span>: <span class="st">"Anatomy"</span>,</span>
<span id="cb50-4"><a href="#cb50-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"BioA"</span>: <span class="st">"Biology"</span>,</span>
<span id="cb50-5"><a href="#cb50-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"FrScA"</span>: <span class="st">"Forensics"</span>,</span>
<span id="cb50-6"><a href="#cb50-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"OcnA"</span>: <span class="st">"Oceanography"</span>,</span>
<span id="cb50-7"><a href="#cb50-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"PhysA"</span>: <span class="st">"Physics"</span></span>
<span id="cb50-8"><a href="#cb50-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb50-9"><a href="#cb50-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-10"><a href="#cb50-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Replace abbreviations with full subject names</span></span>
<span id="cb50-11"><a href="#cb50-11" aria-hidden="true" tabindex="-1"></a>data_to_explore[<span class="st">'subject'</span>] <span class="op">=</span> data_to_explore[<span class="st">'subject'</span>].replace(subject_map)</span>
<span id="cb50-12"><a href="#cb50-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb50-13"><a href="#cb50-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the updated DataFrame</span></span>
<span id="cb50-14"><a href="#cb50-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data_to_explore)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    student_id      course_id gender                   enrollment_reason  \
0        60186  AnPhA-S116-01      M  Course Unavailable at Local School   
1        66693  AnPhA-S116-01      M  Course Unavailable at Local School   
2        66811  AnPhA-S116-01      F  Course Unavailable at Local School   
3        66862  AnPhA-S116-01      F  Course Unavailable at Local School   
4        67508  AnPhA-S116-01      F                 Scheduling Conflict   
..         ...            ...    ...                                 ...   
938         19  AnPhA-S217-02    NaN                                 NaN   
939         52  FrScA-S217-03    NaN                                 NaN   
940         57  FrScA-S217-01    NaN                                 NaN   
941         72  FrScA-S217-01    NaN                                 NaN   
942         80  FrScA-S217-01    NaN                                 NaN   

     enrollment_status  time_spent  time_spent_hours  total_points_possible  \
0    Approved/Enrolled   2087.0501         34.784168                 1775.0   
1    Approved/Enrolled   2309.0334         38.483890                 1775.0   
2    Approved/Enrolled   5298.8507         88.314178                 1775.0   
3    Approved/Enrolled   1746.9667         29.116112                 1775.0   
4    Approved/Enrolled   2668.1830         44.469717                 1775.0   
..                 ...         ...               ...                    ...   
938                NaN         NaN               NaN                    NaN   
939                NaN         NaN               NaN                    NaN   
940                NaN         NaN               NaN                    NaN   
941                NaN         NaN               NaN                    NaN   
942                NaN         NaN               NaN                    NaN   

     total_points_earned  proportion_earned  ...   q8   q9  q10  \
0             1674.73000              94.35  ...  4.0  4.0  4.0   
1             1674.25000              94.32  ...  5.0  5.0  5.0   
2             1633.15000              92.01  ...  4.0  4.0  4.0   
3             1118.57333              63.02  ...  NaN  NaN  NaN   
4             1528.34333              86.10  ...  NaN  NaN  NaN   
..                   ...                ...  ...  ...  ...  ...   
938                  NaN                NaN  ...  5.0  5.0  5.0   
939                  NaN                NaN  ...  4.0  3.0  5.0   
940                  NaN                NaN  ...  5.0  2.0  4.0   
941                  NaN                NaN  ...  5.0  3.0  5.0   
942                  NaN                NaN  ...  4.0  2.0  3.0   

                   date.x  post_int  post_uv  post_tv  post_percomp  date.y  \
0    2015-09-17T16:41:00Z       NaN      NaN      NaN           NaN     NaN   
1    2015-09-10T17:43:00Z       NaN      NaN      NaN           NaN     NaN   
2    2015-09-10T18:16:00Z       NaN      NaN      NaN           NaN     NaN   
3                     NaN       NaN      NaN      NaN           NaN     NaN   
4                     NaN       NaN      NaN      NaN           NaN     NaN   
..                    ...       ...      ...      ...           ...     ...   
938                   NaN       NaN      NaN      NaN           NaN     NaN   
939                   NaN       NaN      NaN      NaN           NaN     NaN   
940                   NaN       NaN      NaN      NaN           NaN     NaN   
941                   NaN       NaN      NaN      NaN           NaN     NaN   
942                   NaN       NaN      NaN      NaN           NaN     NaN   

                     date  
0                     NaN  
1                     NaN  
2                     NaN  
3                     NaN  
4                     NaN  
..                    ...  
938  2017-02-09T16:42:00Z  
939  2017-02-13T13:00:00Z  
940  2017-01-27T16:48:00Z  
941  2017-02-06T12:31:00Z  
942  2017-01-23T16:49:00Z  

[943 rows x 35 columns]</code></pre>
</div>
</div>
<p>We can easily check out the dataFrame in R to see how the subject variable has been added.</p>
<pre class="{r}"><code># Read python object into R using 'py$` syntax
data_to_explore_r = as_tibble(py$data_to_explore)

# Inspect new R object
head(data_to_explore_r)</code></pre>
<p>Lastly lets look at our dataFrameâ€™s columns to understand how many observations are in each column.</p>
<div id="5599170d" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>data_to_explore.info()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;class 'pandas.core.frame.DataFrame'&gt;
RangeIndex: 943 entries, 0 to 942
Data columns (total 35 columns):
 #   Column                 Non-Null Count  Dtype  
---  ------                 --------------  -----  
 0   student_id             943 non-null    object 
 1   course_id              943 non-null    object 
 2   gender                 716 non-null    object 
 3   enrollment_reason      716 non-null    object 
 4   enrollment_status      716 non-null    object 
 5   time_spent             711 non-null    float64
 6   time_spent_hours       711 non-null    float64
 7   total_points_possible  717 non-null    float64
 8   total_points_earned    717 non-null    float64
 9   proportion_earned      717 non-null    float64
 10  pass_fail              717 non-null    object 
 11  subject                943 non-null    object 
 12  semester               943 non-null    object 
 13  section                943 non-null    object 
 14  int                    650 non-null    float64
 15  val                    656 non-null    float64
 16  percomp                655 non-null    float64
 17  tv                     651 non-null    float64
 18  q1                     658 non-null    float64
 19  q2                     658 non-null    float64
 20  q3                     657 non-null    float64
 21  q4                     654 non-null    float64
 22  q5                     657 non-null    float64
 23  q6                     658 non-null    float64
 24  q7                     657 non-null    float64
 25  q8                     657 non-null    float64
 26  q9                     657 non-null    float64
 27  q10                    658 non-null    float64
 28  date.x                 550 non-null    object 
 29  post_int               95 non-null     float64
 30  post_uv                95 non-null     float64
 31  post_tv                95 non-null     float64
 32  post_percomp           95 non-null     float64
 33  date.y                 95 non-null     object 
 34  date                   109 non-null    object 
dtypes: float64(23), object(12)
memory usage: 258.0+ KB</code></pre>
</div>
</div>
</section>
<section id="write-the-dataframe-to-the-folder" class="level4">
<h4 class="anchored" data-anchor-id="write-the-dataframe-to-the-folder">Write the dataFrame to the folder</h4>
<p>Now letâ€™s write the file to our <strong>data folder</strong> using the <code>.to_csv()</code> to save for later or download.</p>
<div id="f7338161" class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># add the function to write data to file to use later</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>data_to_explore.to_csv(<span class="st">"data/data_to_explore.csv"</span>, index<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p><strong>Check the data folder to confirm the location of your new file.</strong></p>
</section>
</section>
<section id="stop-here.-congratulations-you-finished-the-first-part-of-the-case-study." class="level3">
<h3 class="anchored" data-anchor-id="stop-here.-congratulations-you-finished-the-first-part-of-the-case-study.">ğŸ›‘ Stop here. Congratulations you finished the first part of the case study.</h3>
</section>
</section>
<section id="explore-module-2" class="level2">
<h2 class="anchored" data-anchor-id="explore-module-2">3. EXPLORE (Module 2)</h2>
<p><img src="img/teacher%20persona.png" alt="Teacher Persona" class="wrap-img"> <strong>Alex follows the steps to load and wrangle data, reflecting on how each step can provide insights into her studentsâ€™ engagement levels. She is particularly interested in understanding patterns in the time students spend on different course materials and how these patterns correlate with their performance.</strong></p>
<p>Exploratory data analysis (EDA) focuses is an approach/philosophy summarizing the main characteristics of data sets, often using visualization methods. The goal is not formal modeling or hypothesis testing, but understanding and exploring data to formulate hypotheses for further investigation.</p>
<p>EDA is a fundamental early step after data collection and pre-processing, where the data is simply visualized, plotted, manipulated, without any assumptions, in order to help assessing the quality of the data and building models.</p>
<p>Weâ€™ve already wrangled out data - but letâ€™s look at the data frame to make sure it is still correct. Additionally we can do some quick filtering and sorting to explore ideas.</p>
<pre class="{r}"><code># Inspect the R object 
head(data_to_explore_r)</code></pre>
<p>#summary Statistics</p>
<p><code>pandas</code> has some great options for built-in EDA; in fact weâ€™ve already seen one of them, data_to_explore.info() which, as well as reporting datatypes and memory usage, also tells us how many observations in each column are â€˜truthyâ€™ rather than â€˜falsyâ€™, ie how many have non-null values.</p>
<p>But, you can use the <code>describe()</code> function to give you some quick summary statistics.</p>
<div id="b26ea914" class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>df_desc <span class="op">=</span> data_to_explore.describe()</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df_desc.head())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>        time_spent  time_spent_hours  total_points_possible  \
count   711.000000        711.000000             717.000000   
mean   1828.803435         30.480057            1619.546722   
std    1363.134166         22.718903             387.123588   
min       0.450000          0.007500            1212.000000   
25%     895.566600         14.926110            1217.000000   

       total_points_earned  proportion_earned         int         val  \
count           717.000000         717.000000  650.000000  656.000000   
mean           1229.981469          76.228229    4.301000    3.754319   
std             510.642484          25.201053    0.599141    0.748296   
min               0.000000           0.000000    1.800000    1.000000   
25%            1002.500000          72.360000    4.000000    3.333333   

          percomp          tv          q1  ...          q5          q6  \
count  655.000000  651.000000  658.000000  ...  657.000000  658.000000   
mean     3.635878    4.065394    4.337386  ...    4.281583    4.048632   
std      0.686710    0.585938    0.663348  ...    0.688436    0.801866   
min      1.500000    1.000000    1.000000  ...    1.000000    1.000000   
25%      3.000000    3.714286    4.000000  ...    4.000000    4.000000   

               q7         q8          q9         q10   post_int    post_uv  \
count  657.000000  657.00000  657.000000  658.000000  95.000000  95.000000   
mean     3.960426    4.34551    3.552511    4.173252   3.878947   3.480702   
std      0.854482    0.65165    0.920994    0.870845   0.938156   0.987769   
min      1.000000    1.00000    1.000000    1.000000   1.000000   1.000000   
25%      3.000000    4.00000    3.000000    4.000000   3.500000   3.000000   

         post_tv  post_percomp  
count  95.000000     95.000000  
mean    3.708271      3.468421  
std     0.901081      0.880675  
min     1.000000      1.000000  
25%     3.285714      3.000000  

[5 rows x 23 columns]</code></pre>
</div>
</div>
<p>You can see that there are a lot of numbers so we want to chain <code>round(1)</code> to describe.</p>
<p>What will this do?</p>
<div id="0e63443a" class="cell" data-execution_count="30">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="co">#YOUR CODE HERE:</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>sum_table <span class="op">=</span> data_to_explore.describe().<span class="bu">round</span>(<span class="dv">1</span>)</span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>sum_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="30">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">time_spent</th>
<th data-quarto-table-cell-role="th">time_spent_hours</th>
<th data-quarto-table-cell-role="th">total_points_possible</th>
<th data-quarto-table-cell-role="th">total_points_earned</th>
<th data-quarto-table-cell-role="th">proportion_earned</th>
<th data-quarto-table-cell-role="th">int</th>
<th data-quarto-table-cell-role="th">val</th>
<th data-quarto-table-cell-role="th">percomp</th>
<th data-quarto-table-cell-role="th">tv</th>
<th data-quarto-table-cell-role="th">q1</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">q5</th>
<th data-quarto-table-cell-role="th">q6</th>
<th data-quarto-table-cell-role="th">q7</th>
<th data-quarto-table-cell-role="th">q8</th>
<th data-quarto-table-cell-role="th">q9</th>
<th data-quarto-table-cell-role="th">q10</th>
<th data-quarto-table-cell-role="th">post_int</th>
<th data-quarto-table-cell-role="th">post_uv</th>
<th data-quarto-table-cell-role="th">post_tv</th>
<th data-quarto-table-cell-role="th">post_percomp</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">count</td>
<td>711.0</td>
<td>711.0</td>
<td>717.0</td>
<td>717.0</td>
<td>717.0</td>
<td>650.0</td>
<td>656.0</td>
<td>655.0</td>
<td>651.0</td>
<td>658.0</td>
<td>...</td>
<td>657.0</td>
<td>658.0</td>
<td>657.0</td>
<td>657.0</td>
<td>657.0</td>
<td>658.0</td>
<td>95.0</td>
<td>95.0</td>
<td>95.0</td>
<td>95.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">mean</td>
<td>1828.8</td>
<td>30.5</td>
<td>1619.5</td>
<td>1230.0</td>
<td>76.2</td>
<td>4.3</td>
<td>3.8</td>
<td>3.6</td>
<td>4.1</td>
<td>4.3</td>
<td>...</td>
<td>4.3</td>
<td>4.0</td>
<td>4.0</td>
<td>4.3</td>
<td>3.6</td>
<td>4.2</td>
<td>3.9</td>
<td>3.5</td>
<td>3.7</td>
<td>3.5</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">std</td>
<td>1363.1</td>
<td>22.7</td>
<td>387.1</td>
<td>510.6</td>
<td>25.2</td>
<td>0.6</td>
<td>0.7</td>
<td>0.7</td>
<td>0.6</td>
<td>0.7</td>
<td>...</td>
<td>0.7</td>
<td>0.8</td>
<td>0.9</td>
<td>0.7</td>
<td>0.9</td>
<td>0.9</td>
<td>0.9</td>
<td>1.0</td>
<td>0.9</td>
<td>0.9</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">min</td>
<td>0.4</td>
<td>0.0</td>
<td>1212.0</td>
<td>0.0</td>
<td>0.0</td>
<td>1.8</td>
<td>1.0</td>
<td>1.5</td>
<td>1.0</td>
<td>1.0</td>
<td>...</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
<td>1.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">25%</td>
<td>895.6</td>
<td>14.9</td>
<td>1217.0</td>
<td>1002.5</td>
<td>72.4</td>
<td>4.0</td>
<td>3.3</td>
<td>3.0</td>
<td>3.7</td>
<td>4.0</td>
<td>...</td>
<td>4.0</td>
<td>4.0</td>
<td>3.0</td>
<td>4.0</td>
<td>3.0</td>
<td>4.0</td>
<td>3.5</td>
<td>3.0</td>
<td>3.3</td>
<td>3.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">50%</td>
<td>1560.0</td>
<td>26.0</td>
<td>1676.0</td>
<td>1177.1</td>
<td>85.6</td>
<td>4.4</td>
<td>3.7</td>
<td>3.5</td>
<td>4.1</td>
<td>4.0</td>
<td>...</td>
<td>4.0</td>
<td>4.0</td>
<td>4.0</td>
<td>4.0</td>
<td>4.0</td>
<td>4.0</td>
<td>4.0</td>
<td>3.7</td>
<td>3.9</td>
<td>3.5</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">75%</td>
<td>2423.9</td>
<td>40.4</td>
<td>1791.0</td>
<td>1572.4</td>
<td>92.3</td>
<td>4.8</td>
<td>4.3</td>
<td>4.0</td>
<td>4.5</td>
<td>5.0</td>
<td>...</td>
<td>5.0</td>
<td>5.0</td>
<td>5.0</td>
<td>5.0</td>
<td>4.0</td>
<td>5.0</td>
<td>4.5</td>
<td>4.0</td>
<td>4.3</td>
<td>4.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">max</td>
<td>8870.9</td>
<td>147.8</td>
<td>2425.0</td>
<td>2413.5</td>
<td>100.7</td>
<td>5.0</td>
<td>5.0</td>
<td>5.0</td>
<td>5.0</td>
<td>5.0</td>
<td>...</td>
<td>5.0</td>
<td>5.0</td>
<td>5.0</td>
<td>5.0</td>
<td>5.0</td>
<td>5.0</td>
<td>5.0</td>
<td>5.0</td>
<td>5.0</td>
<td>5.0</td>
</tr>
</tbody>
</table>

<p>8 rows Ã— 23 columns</p>
</div>
</div>
</div>
<p>The describe table can get long so we can transpose it using the T property (or the transpose() method).</p>
<div id="9a5281ac" class="cell" data-execution_count="31">
<div class="sourceCode cell-code" id="cb60"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb60-1"><a href="#cb60-1" aria-hidden="true" tabindex="-1"></a>sum_table <span class="op">=</span> sum_table.T</span>
<span id="cb60-2"><a href="#cb60-2" aria-hidden="true" tabindex="-1"></a>sum_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="31">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">count</th>
<th data-quarto-table-cell-role="th">mean</th>
<th data-quarto-table-cell-role="th">std</th>
<th data-quarto-table-cell-role="th">min</th>
<th data-quarto-table-cell-role="th">25%</th>
<th data-quarto-table-cell-role="th">50%</th>
<th data-quarto-table-cell-role="th">75%</th>
<th data-quarto-table-cell-role="th">max</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">time_spent</td>
<td>711.0</td>
<td>1828.8</td>
<td>1363.1</td>
<td>0.4</td>
<td>895.6</td>
<td>1560.0</td>
<td>2423.9</td>
<td>8870.9</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">time_spent_hours</td>
<td>711.0</td>
<td>30.5</td>
<td>22.7</td>
<td>0.0</td>
<td>14.9</td>
<td>26.0</td>
<td>40.4</td>
<td>147.8</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">total_points_possible</td>
<td>717.0</td>
<td>1619.5</td>
<td>387.1</td>
<td>1212.0</td>
<td>1217.0</td>
<td>1676.0</td>
<td>1791.0</td>
<td>2425.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">total_points_earned</td>
<td>717.0</td>
<td>1230.0</td>
<td>510.6</td>
<td>0.0</td>
<td>1002.5</td>
<td>1177.1</td>
<td>1572.4</td>
<td>2413.5</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">proportion_earned</td>
<td>717.0</td>
<td>76.2</td>
<td>25.2</td>
<td>0.0</td>
<td>72.4</td>
<td>85.6</td>
<td>92.3</td>
<td>100.7</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">int</td>
<td>650.0</td>
<td>4.3</td>
<td>0.6</td>
<td>1.8</td>
<td>4.0</td>
<td>4.4</td>
<td>4.8</td>
<td>5.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">val</td>
<td>656.0</td>
<td>3.8</td>
<td>0.7</td>
<td>1.0</td>
<td>3.3</td>
<td>3.7</td>
<td>4.3</td>
<td>5.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">percomp</td>
<td>655.0</td>
<td>3.6</td>
<td>0.7</td>
<td>1.5</td>
<td>3.0</td>
<td>3.5</td>
<td>4.0</td>
<td>5.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">tv</td>
<td>651.0</td>
<td>4.1</td>
<td>0.6</td>
<td>1.0</td>
<td>3.7</td>
<td>4.1</td>
<td>4.5</td>
<td>5.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">q1</td>
<td>658.0</td>
<td>4.3</td>
<td>0.7</td>
<td>1.0</td>
<td>4.0</td>
<td>4.0</td>
<td>5.0</td>
<td>5.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">q2</td>
<td>658.0</td>
<td>3.7</td>
<td>0.9</td>
<td>1.0</td>
<td>3.0</td>
<td>4.0</td>
<td>4.0</td>
<td>5.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">q3</td>
<td>657.0</td>
<td>3.3</td>
<td>0.9</td>
<td>1.0</td>
<td>3.0</td>
<td>3.0</td>
<td>4.0</td>
<td>5.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">q4</td>
<td>654.0</td>
<td>4.3</td>
<td>0.8</td>
<td>1.0</td>
<td>4.0</td>
<td>5.0</td>
<td>5.0</td>
<td>5.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">q5</td>
<td>657.0</td>
<td>4.3</td>
<td>0.7</td>
<td>1.0</td>
<td>4.0</td>
<td>4.0</td>
<td>5.0</td>
<td>5.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">q6</td>
<td>658.0</td>
<td>4.0</td>
<td>0.8</td>
<td>1.0</td>
<td>4.0</td>
<td>4.0</td>
<td>5.0</td>
<td>5.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">q7</td>
<td>657.0</td>
<td>4.0</td>
<td>0.9</td>
<td>1.0</td>
<td>3.0</td>
<td>4.0</td>
<td>5.0</td>
<td>5.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">q8</td>
<td>657.0</td>
<td>4.3</td>
<td>0.7</td>
<td>1.0</td>
<td>4.0</td>
<td>4.0</td>
<td>5.0</td>
<td>5.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">q9</td>
<td>657.0</td>
<td>3.6</td>
<td>0.9</td>
<td>1.0</td>
<td>3.0</td>
<td>4.0</td>
<td>4.0</td>
<td>5.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">q10</td>
<td>658.0</td>
<td>4.2</td>
<td>0.9</td>
<td>1.0</td>
<td>4.0</td>
<td>4.0</td>
<td>5.0</td>
<td>5.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">post_int</td>
<td>95.0</td>
<td>3.9</td>
<td>0.9</td>
<td>1.0</td>
<td>3.5</td>
<td>4.0</td>
<td>4.5</td>
<td>5.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">post_uv</td>
<td>95.0</td>
<td>3.5</td>
<td>1.0</td>
<td>1.0</td>
<td>3.0</td>
<td>3.7</td>
<td>4.0</td>
<td>5.0</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">post_tv</td>
<td>95.0</td>
<td>3.7</td>
<td>0.9</td>
<td>1.0</td>
<td>3.3</td>
<td>3.9</td>
<td>4.3</td>
<td>5.0</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">post_percomp</td>
<td>95.0</td>
<td>3.5</td>
<td>0.9</td>
<td>1.0</td>
<td>3.0</td>
<td>3.5</td>
<td>4.0</td>
<td>5.0</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
<p>You can see it better using the <code>to_string()</code> function. This is more suitable to publication statistics.</p>
<div id="4225f497" class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(sum_table.to_string())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                       count    mean     std     min     25%     50%     75%     max
time_spent             711.0  1828.8  1363.1     0.4   895.6  1560.0  2423.9  8870.9
time_spent_hours       711.0    30.5    22.7     0.0    14.9    26.0    40.4   147.8
total_points_possible  717.0  1619.5   387.1  1212.0  1217.0  1676.0  1791.0  2425.0
total_points_earned    717.0  1230.0   510.6     0.0  1002.5  1177.1  1572.4  2413.5
proportion_earned      717.0    76.2    25.2     0.0    72.4    85.6    92.3   100.7
int                    650.0     4.3     0.6     1.8     4.0     4.4     4.8     5.0
val                    656.0     3.8     0.7     1.0     3.3     3.7     4.3     5.0
percomp                655.0     3.6     0.7     1.5     3.0     3.5     4.0     5.0
tv                     651.0     4.1     0.6     1.0     3.7     4.1     4.5     5.0
q1                     658.0     4.3     0.7     1.0     4.0     4.0     5.0     5.0
q2                     658.0     3.7     0.9     1.0     3.0     4.0     4.0     5.0
q3                     657.0     3.3     0.9     1.0     3.0     3.0     4.0     5.0
q4                     654.0     4.3     0.8     1.0     4.0     5.0     5.0     5.0
q5                     657.0     4.3     0.7     1.0     4.0     4.0     5.0     5.0
q6                     658.0     4.0     0.8     1.0     4.0     4.0     5.0     5.0
q7                     657.0     4.0     0.9     1.0     3.0     4.0     5.0     5.0
q8                     657.0     4.3     0.7     1.0     4.0     4.0     5.0     5.0
q9                     657.0     3.6     0.9     1.0     3.0     4.0     4.0     5.0
q10                    658.0     4.2     0.9     1.0     4.0     4.0     5.0     5.0
post_int                95.0     3.9     0.9     1.0     3.5     4.0     4.5     5.0
post_uv                 95.0     3.5     1.0     1.0     3.0     3.7     4.0     5.0
post_tv                 95.0     3.7     0.9     1.0     3.3     3.9     4.3     5.0
post_percomp            95.0     3.5     0.9     1.0     3.0     3.5     4.0     5.0</code></pre>
</div>
</div>
<section id="filtering-and-sorting-data" class="level4">
<h4 class="anchored" data-anchor-id="filtering-and-sorting-data">Filtering and sorting data</h4>
<section id="use-filter-function-from-dplyr-package" class="level5">
<h5 class="anchored" data-anchor-id="use-filter-function-from-dplyr-package">Use <code>filter()</code> function from {dplyr} package</h5>
<p>We can explore students at risk of failing the course using the filter function looking at students below 70:</p>
<div id="33413721" class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter students with proportion_earned less than 70</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>at_risk_students <span class="op">=</span> data_to_explore[data_to_explore[<span class="st">'proportion_earned'</span>] <span class="op">&lt;</span> <span class="dv">70</span>]</span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb63-4"><a href="#cb63-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Print the DataFrame with at-risk students</span></span>
<span id="cb63-5"><a href="#cb63-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(at_risk_students)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    student_id      course_id gender                   enrollment_reason  \
3        66862  AnPhA-S116-01      F  Course Unavailable at Local School   
10       85865  AnPhA-S116-01      F  Learning Preference of the Student   
15       86267  AnPhA-S116-01      F  Course Unavailable at Local School   
28       86492  AnPhA-S116-01      F  Course Unavailable at Local School   
30       86588  AnPhA-S116-01      F                 Scheduling Conflict   
..         ...            ...    ...                                 ...   
804     260653  AnPhA-S217-01    NaN                                 NaN   
815     262405   BioA-S217-01    NaN                                 NaN   
816     262625   OcnA-S217-02    NaN                                 NaN   
817     262644  AnPhA-S217-01    NaN                                 NaN   
828     265311  AnPhA-S217-02    NaN                                 NaN   

     enrollment_status  time_spent  time_spent_hours  total_points_possible  \
3    Approved/Enrolled   1746.9667         29.116112                 1775.0   
10   Approved/Enrolled     95.3000          1.588333                 1775.0   
15   Approved/Enrolled    406.0001          6.766668                 1775.0   
28   Approved/Enrolled    893.1332         14.885553                 1775.0   
30   Approved/Enrolled     67.5167          1.125278                 1775.0   
..                 ...         ...               ...                    ...   
804                NaN         NaN               NaN                 1805.0   
815                NaN         NaN               NaN                 2425.0   
816                NaN         NaN               NaN                 1791.0   
817                NaN         NaN               NaN                 1805.0   
828                NaN         NaN               NaN                 1775.0   

     total_points_earned  proportion_earned  ...   q8   q9  q10  \
3             1118.57333              63.02  ...  NaN  NaN  NaN   
10             959.91333              54.08  ...  NaN  NaN  NaN   
15             776.77000              43.76  ...  5.0  5.0  5.0   
28             708.27500              39.90  ...  4.0  4.0  4.0   
30             534.00000              30.08  ...  5.0  4.0  5.0   
..                   ...                ...  ...  ...  ...  ...   
804            297.50000              16.48  ...  NaN  NaN  NaN   
815           1584.54000              65.34  ...  NaN  NaN  NaN   
816           1188.10000              66.34  ...  NaN  NaN  NaN   
817           1240.91666              68.75  ...  NaN  NaN  NaN   
828           1131.16666              63.73  ...  NaN  NaN  NaN   

                   date.x  post_int  post_uv  post_tv  post_percomp  date.y  \
3                     NaN       NaN      NaN      NaN           NaN     NaN   
10                    NaN       NaN      NaN      NaN           NaN     NaN   
15   2015-09-14T01:18:00Z       NaN      NaN      NaN           NaN     NaN   
28   2015-09-17T15:38:00Z       NaN      NaN      NaN           NaN     NaN   
30   2015-09-14T11:53:00Z       NaN      NaN      NaN           NaN     NaN   
..                    ...       ...      ...      ...           ...     ...   
804                   NaN       NaN      NaN      NaN           NaN     NaN   
815                   NaN       NaN      NaN      NaN           NaN     NaN   
816                   NaN       NaN      NaN      NaN           NaN     NaN   
817                   NaN       NaN      NaN      NaN           NaN     NaN   
828                   NaN       NaN      NaN      NaN           NaN     NaN   

     date  
3     NaN  
10    NaN  
15    NaN  
28    NaN  
30    NaN  
..    ...  
804   NaN  
815   NaN  
816   NaN  
817   NaN  
828   NaN  

[155 rows x 35 columns]</code></pre>
</div>
</div>
<p>We can also look at the count</p>
<div id="ebc9dc7e" class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Count the number of at-risk students</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>at_risk_count <span class="op">=</span> <span class="bu">len</span>(at_risk_students)</span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Number of at-risk students:"</span>, at_risk_count)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Number of at-risk students: 155</code></pre>
</div>
</div>
</section>
<section id="use-.sort_values-function" class="level5">
<h5 class="anchored" data-anchor-id="use-.sort_values-function">Use <code>.sort_values()</code> function</h5>
<div id="89e2e55d" class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co">#sort in ascending order</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>sorted_data <span class="op">=</span> data_to_explore.sort_values(by<span class="op">=</span><span class="st">'proportion_earned'</span>)</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the sorted DataFrame</span></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(sorted_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    student_id      course_id gender                   enrollment_reason  \
256      53475  FrScA-S116-02      F  Course Unavailable at Local School   
205      85659  FrScA-S116-01      M  Course Unavailable at Local School   
345      89465  FrScA-S216-01      M  Course Unavailable at Local School   
166      90995   BioA-S116-01      F  Learning Preference of the Student   
177      88568   BioA-S216-01      M                               Other   
..         ...            ...    ...                                 ...   
938         19  AnPhA-S217-02    NaN                                 NaN   
939         52  FrScA-S217-03    NaN                                 NaN   
940         57  FrScA-S217-01    NaN                                 NaN   
941         72  FrScA-S217-01    NaN                                 NaN   
942         80  FrScA-S217-01    NaN                                 NaN   

     enrollment_status  time_spent  time_spent_hours  total_points_possible  \
256            Dropped         NaN               NaN                 1212.0   
205            Dropped         NaN               NaN                 1212.0   
345            Dropped     24.6500          0.410833                 1232.0   
166  Approved/Enrolled     13.9333          0.232222                 2420.0   
177            Dropped         NaN               NaN                 2425.0   
..                 ...         ...               ...                    ...   
938                NaN         NaN               NaN                    NaN   
939                NaN         NaN               NaN                    NaN   
940                NaN         NaN               NaN                    NaN   
941                NaN         NaN               NaN                    NaN   
942                NaN         NaN               NaN                    NaN   

     total_points_earned  proportion_earned  ...   q8   q9  q10  \
256                  0.0                0.0  ...  NaN  NaN  NaN   
205                  0.0                0.0  ...  NaN  NaN  NaN   
345                  0.0                0.0  ...  3.0  3.0  3.0   
166                  0.0                0.0  ...  NaN  NaN  NaN   
177                  0.0                0.0  ...  NaN  NaN  NaN   
..                   ...                ...  ...  ...  ...  ...   
938                  NaN                NaN  ...  5.0  5.0  5.0   
939                  NaN                NaN  ...  4.0  3.0  5.0   
940                  NaN                NaN  ...  5.0  2.0  4.0   
941                  NaN                NaN  ...  5.0  3.0  5.0   
942                  NaN                NaN  ...  4.0  2.0  3.0   

                   date.x  post_int  post_uv  post_tv  post_percomp  date.y  \
256                   NaN       NaN      NaN      NaN           NaN     NaN   
205                   NaN       NaN      NaN      NaN           NaN     NaN   
345  2016-02-02T17:43:00Z       NaN      NaN      NaN           NaN     NaN   
166                   NaN       NaN      NaN      NaN           NaN     NaN   
177                   NaN       NaN      NaN      NaN           NaN     NaN   
..                    ...       ...      ...      ...           ...     ...   
938                   NaN       NaN      NaN      NaN           NaN     NaN   
939                   NaN       NaN      NaN      NaN           NaN     NaN   
940                   NaN       NaN      NaN      NaN           NaN     NaN   
941                   NaN       NaN      NaN      NaN           NaN     NaN   
942                   NaN       NaN      NaN      NaN           NaN     NaN   

                     date  
256                   NaN  
205                   NaN  
345                   NaN  
166                   NaN  
177                   NaN  
..                    ...  
938  2017-02-09T16:42:00Z  
939  2017-02-13T13:00:00Z  
940  2017-01-27T16:48:00Z  
941  2017-02-06T12:31:00Z  
942  2017-01-23T16:49:00Z  

[943 rows x 35 columns]</code></pre>
</div>
</div>
<ul>
<li><p><strong><code>sort_values()</code> Method</strong>: This method is used to sort a DataFrame by one or more columns.</p></li>
<li><p><strong><code>by='proportion_earned'</code></strong>: Specifies the column name by which the DataFrame should be sorted. In this case, itâ€™s sorting by the <code>proportion_earned</code> column.</p></li>
<li><p><strong>Implicit <code>ascending=True</code></strong>: By default, <code>sort_values()</code> sorts the data in ascending order. If you need to sort in descending order, you can pass <code>ascending=False</code> as an argument.</p></li>
</ul>
<div id="7b15e6d6" class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="co">#sort in descending order</span></span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>sorted_data <span class="op">=</span> data_to_explore.sort_values(by<span class="op">=</span><span class="st">'proportion_earned'</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Display the sorted DataFrame</span></span>
<span id="cb69-5"><a href="#cb69-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(sorted_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    student_id      course_id gender                   enrollment_reason  \
203      85650  FrScA-S116-01      M  Course Unavailable at Local School   
168      91067   BioA-S116-01      F                               Other   
586      78153  PhysA-S216-01      F  Learning Preference of the Student   
245      88261  FrScA-S116-01      F  Course Unavailable at Local School   
432      66740   OcnA-S116-01      F  Course Unavailable at Local School   
..         ...            ...    ...                                 ...   
938         19  AnPhA-S217-02    NaN                                 NaN   
939         52  FrScA-S217-03    NaN                                 NaN   
940         57  FrScA-S217-01    NaN                                 NaN   
941         72  FrScA-S217-01    NaN                                 NaN   
942         80  FrScA-S217-01    NaN                                 NaN   

     enrollment_status  time_spent  time_spent_hours  total_points_possible  \
203  Approved/Enrolled   2689.1334         44.818890                 1212.0   
168  Approved/Enrolled   2920.9838         48.683063                 2420.0   
586  Approved/Enrolled   1769.8667         29.497778                 2225.0   
245  Approved/Enrolled   1269.6667         21.161112                 1212.0   
432  Approved/Enrolled    965.2994         16.088323                 1676.0   
..                 ...         ...               ...                    ...   
938                NaN         NaN               NaN                    NaN   
939                NaN         NaN               NaN                    NaN   
940                NaN         NaN               NaN                    NaN   
941                NaN         NaN               NaN                    NaN   
942                NaN         NaN               NaN                    NaN   

     total_points_earned  proportion_earned  ...   q8   q9  q10  \
203               1221.0             100.74  ...  4.0  3.0  4.0   
168               2413.5              99.73  ...  4.0  3.0  4.0   
586               2216.0              99.60  ...  4.0  4.0  4.0   
245               1205.0              99.42  ...  4.0  2.0  3.0   
432               1663.0              99.22  ...  4.0  3.0  4.0   
..                   ...                ...  ...  ...  ...  ...   
938                  NaN                NaN  ...  5.0  5.0  5.0   
939                  NaN                NaN  ...  4.0  3.0  5.0   
940                  NaN                NaN  ...  5.0  2.0  4.0   
941                  NaN                NaN  ...  5.0  3.0  5.0   
942                  NaN                NaN  ...  4.0  2.0  3.0   

                   date.x  post_int   post_uv   post_tv  post_percomp  \
203  2015-09-11T13:36:00Z       NaN       NaN       NaN           NaN   
168  2015-09-20T22:47:00Z       NaN       NaN       NaN           NaN   
586  2016-01-27T00:26:00Z       NaN       NaN       NaN           NaN   
245  2015-09-09T18:28:00Z       4.0  4.333333  4.142857           3.0   
432  2015-09-09T14:08:00Z       4.0  3.666667  3.857143           3.5   
..                    ...       ...       ...       ...           ...   
938                   NaN       NaN       NaN       NaN           NaN   
939                   NaN       NaN       NaN       NaN           NaN   
940                   NaN       NaN       NaN       NaN           NaN   
941                   NaN       NaN       NaN       NaN           NaN   
942                   NaN       NaN       NaN       NaN           NaN   

                   date.y                  date  
203                   NaN                   NaN  
168                   NaN                   NaN  
586                   NaN                   NaN  
245  2015-12-27T01:03:00Z                   NaN  
432  2015-09-12T22:46:00Z                   NaN  
..                    ...                   ...  
938                   NaN  2017-02-09T16:42:00Z  
939                   NaN  2017-02-13T13:00:00Z  
940                   NaN  2017-01-27T16:48:00Z  
941                   NaN  2017-02-06T12:31:00Z  
942                   NaN  2017-01-23T16:49:00Z  

[943 rows x 35 columns]</code></pre>
</div>
</div>
</section>
<section id="your-turn-9" class="level5">
<h5 class="anchored" data-anchor-id="your-turn-9"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></h5>
<p>Think what other factors are important to identify students at risk. Run your code and analyze the results:</p>
<div id="6a791c10" class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="co">#YOUR CODE HERE:</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We can also use the <code>SweetViz</code> package from <code>pandas-profiling</code>. To do this we need to do some of the basic set up again.</p>
<p>Make sure to install the packages in the terminal.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>everything after the <code>$</code> in the Terminal</strong> (MAC/LINUX)</p>
<p>$ python3 -m pip install pandas-profiling</p>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>everything after the <code>$</code> in the Terminal</strong> (Windows)</p>
<p>$ py -m pip install pandas-profiling</p>
</div>
</div>
<p>This output from <code>SweetViz</code> is best for internal use.</p>
<p>This is because the output is rich, but not well-suited to exporting to a table that you add, for instance, to a Google Docs or Microsoft Word manuscript.</p>
<p>Of course, these values can be entered manually into a table, but weâ€™ll also discuss ways later on to create tables that are ready, or nearly-ready-to be added directly to manuscripts.</p>
<p>First, install and load the package. Normally you would do this above but we want to make sure you know which packages are used with the new functions.</p>
<div id="7cc77dc5" class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> sweetviz <span class="im">as</span> sv</span>
<span id="cb72-2"><a href="#cb72-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Create and display the report</span></span>
<span id="cb72-3"><a href="#cb72-3" aria-hidden="true" tabindex="-1"></a>report <span class="op">=</span> sv.analyze(data_to_explore)</span>
<span id="cb72-4"><a href="#cb72-4" aria-hidden="true" tabindex="-1"></a>report.show_html(<span class="st">'Sweetviz_Report.html'</span>)  <span class="co"># This opens the report in your default web browser</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="missing-values-and-imputation" class="level4">
<h4 class="anchored" data-anchor-id="missing-values-and-imputation">Missing Values and imputation</h4>
<p>We know from looking at the â€˜info()â€™ function earlier there are a lot of missing values. Python is very sensitive to missing values, before going any further we need to address these.</p>
<p>We will check for missing values step by step</p>
<section id="your-turn-10" class="level5">
<h5 class="anchored" data-anchor-id="your-turn-10"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></h5>
<ol type="1">
<li>First, use the <code>isnull()</code> method to identify all the cells in your DataFrame that contain missing values and save as a new object called <code>null_data</code>.</li>
</ol>
<div id="f343837c" class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="co">#find cells with missing values</span></span>
<span id="cb73-2"><a href="#cb73-2" aria-hidden="true" tabindex="-1"></a><span class="co">#YOUR CODE HERE</span></span>
<span id="cb73-3"><a href="#cb73-3" aria-hidden="true" tabindex="-1"></a>null_data <span class="op">=</span> data_to_explore.isnull()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="2" type="1">
<li>Second, apply the <code>sum()</code> method to the <code>null_data</code> with chaining. This will calculate the total number of missing values in each column because in Python, True is equivalent to 1 and False is 0. Save as a new object called <code>missing_count</code>.</li>
</ol>
<div id="70680853" class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="co">#calculate the number of missing values</span></span>
<span id="cb74-2"><a href="#cb74-2" aria-hidden="true" tabindex="-1"></a><span class="co">#YOUR CODE HERE</span></span>
<span id="cb74-3"><a href="#cb74-3" aria-hidden="true" tabindex="-1"></a>missing_count <span class="op">=</span> null_data.<span class="bu">sum</span>()</span>
<span id="cb74-4"><a href="#cb74-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb74-5"><a href="#cb74-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(missing_count)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>student_id                 0
course_id                  0
gender                   227
enrollment_reason        227
enrollment_status        227
time_spent               232
time_spent_hours         232
total_points_possible    226
total_points_earned      226
proportion_earned        226
pass_fail                226
subject                    0
semester                   0
section                    0
int                      293
val                      287
percomp                  288
tv                       292
q1                       285
q2                       285
q3                       286
q4                       289
q5                       286
q6                       285
q7                       286
q8                       286
q9                       286
q10                      285
date.x                   393
post_int                 848
post_uv                  848
post_tv                  848
post_percomp             848
date.y                   848
date                     834
dtype: int64</code></pre>
</div>
</div>
<ol start="3" type="1">
<li>Use the <code>len()</code> function to find out the total number of rows in your DataFrame to determine the denominator for calculating the percentage of missing data. Save as a new object called <code>total_entries</code>.</li>
</ol>
<div id="bcc4ee0a" class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="co">#find the number of rows in the df</span></span>
<span id="cb76-2"><a href="#cb76-2" aria-hidden="true" tabindex="-1"></a><span class="co">#YOUR CODE HERE</span></span>
<span id="cb76-3"><a href="#cb76-3" aria-hidden="true" tabindex="-1"></a>total_entries <span class="op">=</span> <span class="bu">len</span>(data_to_explore)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="4" type="1">
<li>Divide the total missing values per column (from Step 2) by the total number of entries (from Step 3) and multiply by 100 to convert this ratio into a percentage.</li>
</ol>
<div id="e7d92ab2" class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="co">#calculate the missing counts</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a>missing_percentage <span class="op">=</span> (missing_count <span class="op">/</span> total_entries) <span class="op">*</span> <span class="dv">100</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="5" type="1">
<li>Finally, print or display the missing_percentage to review the percentage of missing data in each column.</li>
</ol>
<div id="ed557f9f" class="cell" data-execution_count="43">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co">#show output</span></span>
<span id="cb78-2"><a href="#cb78-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(missing_percentage)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>student_id                0.000000
course_id                 0.000000
gender                   24.072110
enrollment_reason        24.072110
enrollment_status        24.072110
time_spent               24.602333
time_spent_hours         24.602333
total_points_possible    23.966066
total_points_earned      23.966066
proportion_earned        23.966066
pass_fail                23.966066
subject                   0.000000
semester                  0.000000
section                   0.000000
int                      31.071050
val                      30.434783
percomp                  30.540827
tv                       30.965005
q1                       30.222694
q2                       30.222694
q3                       30.328738
q4                       30.646872
q5                       30.328738
q6                       30.222694
q7                       30.328738
q8                       30.328738
q9                       30.328738
q10                      30.222694
date.x                   41.675504
post_int                 89.925769
post_uv                  89.925769
post_tv                  89.925769
post_percomp             89.925769
date.y                   89.925769
date                     88.441145
dtype: float64</code></pre>
</div>
</div>
<p>You could also write the code with chaining and we added that we do not want columns that are 0. See below</p>
<div id="a1781f84" class="cell" data-execution_count="44">
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the percentage of missing data in each column</span></span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a>missing_percentage <span class="op">=</span> (data_to_explore.isnull().<span class="bu">sum</span>() <span class="op">/</span> <span class="bu">len</span>(data_to_explore)) <span class="op">*</span> <span class="dv">100</span></span>
<span id="cb80-3"><a href="#cb80-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Percentage of missing data in each column:"</span>)</span>
<span id="cb80-4"><a href="#cb80-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(missing_percentage[missing_percentage <span class="op">&gt;</span> <span class="dv">0</span>])  <span class="co"># Only display columns with missing percentages</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Percentage of missing data in each column:
gender                   24.072110
enrollment_reason        24.072110
enrollment_status        24.072110
time_spent               24.602333
time_spent_hours         24.602333
total_points_possible    23.966066
total_points_earned      23.966066
proportion_earned        23.966066
pass_fail                23.966066
int                      31.071050
val                      30.434783
percomp                  30.540827
tv                       30.965005
q1                       30.222694
q2                       30.222694
q3                       30.328738
q4                       30.646872
q5                       30.328738
q6                       30.222694
q7                       30.328738
q8                       30.328738
q9                       30.328738
q10                      30.222694
date.x                   41.675504
post_int                 89.925769
post_uv                  89.925769
post_tv                  89.925769
post_percomp             89.925769
date.y                   89.925769
date                     88.441145
dtype: float64</code></pre>
</div>
</div>
<p>We should look for any outliers to decide how we want to treat the missing data.</p>
<div id="cf54bdcc" class="cell" data-execution_count="45">
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Suppose 'data_to_explore' is your DataFrame and 'proportion_earned' is the column of interest</span></span>
<span id="cb82-2"><a href="#cb82-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb82-3"><a href="#cb82-3" aria-hidden="true" tabindex="-1"></a>data_to_explore[<span class="st">'proportion_earned'</span>].plot(kind<span class="op">=</span><span class="st">'box'</span>)</span>
<span id="cb82-4"><a href="#cb82-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Boxplot of Proportion Earned'</span>)</span>
<span id="cb82-5"><a href="#cb82-5" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Proportion Earned'</span>)</span>
<span id="cb82-6"><a href="#cb82-6" aria-hidden="true" tabindex="-1"></a>plt.grid(<span class="va">True</span>)</span>
<span id="cb82-7"><a href="#cb82-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb82-8"><a href="#cb82-8" aria-hidden="true" tabindex="-1"></a>plt.clf() <span class="co">#add to clear the plot</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="found-casestudy-Py-key_files/figure-html/cell-46-output-1.png" width="816" height="505" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
</div>
</section>
</section>
<section id="data-visualization" class="level3">
<h3 class="anchored" data-anchor-id="data-visualization">Data Visualization</h3>
<section id="use-matplotlib-and-seaborn-libraries" class="level4">
<h4 class="anchored" data-anchor-id="use-matplotlib-and-seaborn-libraries">Use <code>Matplotlib</code> and <code>Seaborn</code> libraries</h4>
<p>Matplotlib and Seaborn are powerful Python libraries for creating static, interactive, and animated visualizations. Matplotlib provides a wide range of simple plotting functions, while Seaborn, which is built on top of Matplotlib, offers a high-level interface for drawing attractive statistical graphics.</p>
<p>For more detailed resources on these libraries, you can refer to the <a href="https://matplotlib.org/stable/users/index.html">Matplotlib documentation</a> and the <a href="https://seaborn.pydata.org/">Seaborn documentation</a>. Additionally, online galleries like <a href="https://python-graph-gallery.com/">Python Graph Gallery</a> offer code examples and inspiration.</p>
<p>â€œElegant Graphics for Data Analysisâ€ states that â€œevery Matplotlib/Seaborn plot can include:</p>
<ul>
<li>Data,</li>
<li>Aesthetic mappings between variables in the data and visual properties,</li>
<li>At least one plot type that defines how to render each observation.â€</li>
</ul>
</section>
</section>
<section id="one-continuous-variable" class="level3">
<h3 class="anchored" data-anchor-id="one-continuous-variable">One Continuous Variable</h3>
<p>Letâ€™s explore the following research question with a bar plot:</p>
<p>â“ Which online course had the largest enrollment numbers?</p>
<section id="your-turn-11" class="level4">
<h4 class="anchored" data-anchor-id="your-turn-11"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></h4>
<p>You need to: 1. First, inspect the <code>data_to_explore</code> to understand what variables might be relevant to explore the research question. Use the data_to_explore_r or inspect it another way.</p>
<pre class="{r}"><code># Inspect the data frame
#YOUR CODE HERE:
data_to_explore_r</code></pre>
</section>
<section id="install-visualization-libraries" class="level4">
<h4 class="anchored" data-anchor-id="install-visualization-libraries">Install visualization libraries</h4>
<div id="e33d59da" class="cell" data-execution_count="46">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="level-a.-basic-bar-plot" class="level4">
<h4 class="anchored" data-anchor-id="level-a.-basic-bar-plot">Level a. Basic Bar Plot</h4>
<p>As a reminder, the most basic visualization that you can make with Seaborn includes:</p>
<ul>
<li><p><strong>Data</strong>: <code>data_to_explore</code></p></li>
<li><p><strong>Aesthetic mapping</strong> - one categorical variable:</p>
<ul>
<li><code>subject</code> mapped to the x-axis</li>
</ul></li>
<li><p><strong>Plot type</strong>: <code>sns.countplot</code></p></li>
<li><p>Clear the plot: use <code>plt.clf()</code> at the end of the code to clear the plot</p></li>
</ul>
<div id="ae458426" class="cell" data-execution_count="47">
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a bar plot</span></span>
<span id="cb86-2"><a href="#cb86-2" aria-hidden="true" tabindex="-1"></a>sns.countplot(data<span class="op">=</span>data_to_explore, x<span class="op">=</span><span class="st">'subject'</span>)</span>
<span id="cb86-3"><a href="#cb86-3" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb86-4"><a href="#cb86-4" aria-hidden="true" tabindex="-1"></a>plt.clf() <span class="co">#add to clear the plot</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="found-casestudy-Py-key_files/figure-html/cell-48-output-1.png" width="593" height="429" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
</div>
<p>The <code>sns.countplot()</code>, automatically counts the number of occurrences of each category. To use sns.barplot(), you typically need to provide both categorical (x) and numerical (y) data. This requires you to prepare the data by calculating the counts for each category, essentially aggregating the data.</p>
<div id="18651eca" class="cell" data-execution_count="48">
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Compute the counts for each subject</span></span>
<span id="cb88-2"><a href="#cb88-2" aria-hidden="true" tabindex="-1"></a>subject_counts <span class="op">=</span> data_to_explore[<span class="st">'subject'</span>].value_counts().reset_index()</span>
<span id="cb88-3"><a href="#cb88-3" aria-hidden="true" tabindex="-1"></a>subject_counts.columns <span class="op">=</span> [<span class="st">'subject'</span>, <span class="st">'count'</span>]</span>
<span id="cb88-4"><a href="#cb88-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb88-5"><a href="#cb88-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the bar plot using sns.barplot()</span></span>
<span id="cb88-6"><a href="#cb88-6" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb88-7"><a href="#cb88-7" aria-hidden="true" tabindex="-1"></a>sns.barplot(data<span class="op">=</span>subject_counts, x<span class="op">=</span><span class="st">'subject'</span>, y<span class="op">=</span><span class="st">'count'</span>)</span>
<span id="cb88-8"><a href="#cb88-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb88-9"><a href="#cb88-9" aria-hidden="true" tabindex="-1"></a>plt.clf() <span class="co">#add to clear the plot</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="found-casestudy-Py-key_files/figure-html/cell-49-output-1.png" width="816" height="503" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
</div>
<section id="your-turn-12" class="level5">
<h5 class="anchored" data-anchor-id="your-turn-12"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></h5>
<p>So, now you can answer the question: â“ Which online course had the largest enrollment numbers?</p>
<ul>
<li>Your answer here</li>
</ul>
</section>
</section>
<section id="level-b.-add-labels" class="level4">
<h4 class="anchored" data-anchor-id="level-b.-add-labels">Level b. Add Labels</h4>
<p>Adding labels to your plot helps provide context and clarity to the data being visualized. The <code>plt.title()</code> function is used to add a title to the plot, while <code>plt.xlabel()</code> and <code>plt.ylabel()</code> add labels to the x-axis and y-axis, respectively, ensuring that viewers understand what each axis represents. Additionally, <code>plt.figtext()</code> is used to add a caption below the plot, which can provide further explanation or insight into the data presented.</p>
<div id="e0c2ac06" class="cell" data-execution_count="49">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co">#YOUR CODE HERE:</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a bar plot with labels</span></span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a>sns.countplot(data<span class="op">=</span>data_to_explore, x<span class="op">=</span><span class="st">'subject'</span>)</span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Number of Student Enrollments per Subject"</span>)  <span class="co"># Adding a title</span></span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Subject"</span>)  <span class="co"># Label for the x-axis</span></span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Count"</span>)  <span class="co"># Label for the y-axis</span></span>
<span id="cb90-7"><a href="#cb90-7" aria-hidden="true" tabindex="-1"></a>plt.figtext(<span class="fl">0.5</span>, <span class="op">-</span><span class="fl">0.1</span>, <span class="st">"Which online courses have had the largest enrollment numbers?"</span>, ha<span class="op">=</span><span class="st">"center"</span>, fontsize<span class="op">=</span><span class="dv">10</span>)  <span class="co"># Adding a caption below the plot</span></span>
<span id="cb90-8"><a href="#cb90-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb90-9"><a href="#cb90-9" aria-hidden="true" tabindex="-1"></a>plt.clf() <span class="co">#add to clear the plot</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="found-casestudy-Py-key_files/figure-html/cell-50-output-1.png" width="593" height="513" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
</div>
<div id="37ab2fbd" class="cell" data-execution_count="50">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Ensure your data has the 'gender' NaNs replaced if you haven't done so</span></span>
<span id="cb92-2"><a href="#cb92-2" aria-hidden="true" tabindex="-1"></a>data_to_explore[<span class="st">'gender'</span>] <span class="op">=</span> data_to_explore[<span class="st">'gender'</span>].fillna(<span class="st">'Not Provided'</span>)</span>
<span id="cb92-3"><a href="#cb92-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb92-4"><a href="#cb92-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a stacked bar plot</span></span>
<span id="cb92-5"><a href="#cb92-5" aria-hidden="true" tabindex="-1"></a>sns.histplot(data<span class="op">=</span>data_to_explore, x<span class="op">=</span><span class="st">'subject'</span>, hue<span class="op">=</span><span class="st">'gender'</span>, multiple<span class="op">=</span><span class="st">'stack'</span>, shrink<span class="op">=</span><span class="fl">0.8</span>)</span>
<span id="cb92-6"><a href="#cb92-6" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Stacked Gender Distribution Across Subjects"</span>)  <span class="co"># Adding a title</span></span>
<span id="cb92-7"><a href="#cb92-7" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Subject"</span>)  <span class="co"># Label for the x-axis</span></span>
<span id="cb92-8"><a href="#cb92-8" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Count"</span>)  <span class="co"># Label for the y-axis</span></span>
<span id="cb92-9"><a href="#cb92-9" aria-hidden="true" tabindex="-1"></a>plt.figtext(<span class="fl">0.5</span>, <span class="op">-</span><span class="fl">0.1</span>, <span class="st">"How gender distribution varies by subject"</span>, ha<span class="op">=</span><span class="st">"center"</span>, fontsize<span class="op">=</span><span class="dv">10</span>)  <span class="co"># Adding a caption below the plot</span></span>
<span id="cb92-10"><a href="#cb92-10" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb92-11"><a href="#cb92-11" aria-hidden="true" tabindex="-1"></a>plt.clf() <span class="co">#add to clear the plot</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="found-casestudy-Py-key_files/figure-html/cell-51-output-1.png" width="593" height="513" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
</div>
</section>
</section>
<section id="histogram" class="level3">
<h3 class="anchored" data-anchor-id="histogram"><strong>Histogram</strong></h3>
<p>We will be guided by the following research question.</p>
<p>â“ How many hours do students watch TV?</p>
<ul>
<li><p><strong>data</strong>: data_to_explore</p></li>
<li><p><strong><code>aes()</code> function</strong> - one continuous variable:</p>
<ul>
<li><code>tv</code> variable mapped to x position</li>
</ul></li>
<li><p><strong>Plot type</strong>: sns.histplot()</p></li>
<li><p>Add a <strong>title</strong> â€œNumber of Hours Students Watch TV per Dayâ€</p></li>
<li><p>Add a <strong>caption</strong> that poses the question â€œApproximately how many students watch 4+ hours of TV per day?â€</p></li>
</ul>
<p><strong>NEED HELP? TRY <a href="https://seaborn.pydata.org/">Seaborn Documentation</a></strong></p>
<section id="your-turn-13" class="level4">
<h4 class="anchored" data-anchor-id="your-turn-13"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></h4>
<div id="163740d5" class="cell" data-execution_count="51">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a histogram for TV watching hours</span></span>
<span id="cb94-2"><a href="#cb94-2" aria-hidden="true" tabindex="-1"></a><span class="co">#YOUR CODE HERE:</span></span>
<span id="cb94-3"><a href="#cb94-3" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb94-4"><a href="#cb94-4" aria-hidden="true" tabindex="-1"></a>sns.histplot(data<span class="op">=</span>data_to_explore, x<span class="op">=</span><span class="st">'tv'</span>, bins<span class="op">=</span><span class="dv">5</span>)</span>
<span id="cb94-5"><a href="#cb94-5" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Number of Hours Students Watch TV per Day"</span>)  <span class="co"># Add the title</span></span>
<span id="cb94-6"><a href="#cb94-6" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"TV Watching Hours"</span>)  <span class="co"># Label for the x-axis</span></span>
<span id="cb94-7"><a href="#cb94-7" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Count"</span>)  <span class="co"># Label for the y-axis</span></span>
<span id="cb94-8"><a href="#cb94-8" aria-hidden="true" tabindex="-1"></a>plt.figtext(<span class="fl">0.5</span>, <span class="op">-</span><span class="fl">0.1</span>, <span class="st">"Approximately how many students watch 4+ hours of TV per day?"</span>, ha<span class="op">=</span><span class="st">"center"</span>, fontsize<span class="op">=</span><span class="dv">10</span>)  <span class="co"># Add the caption</span></span>
<span id="cb94-9"><a href="#cb94-9" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb94-10"><a href="#cb94-10" aria-hidden="true" tabindex="-1"></a>plt.clf() <span class="co">#add to clear the plot</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="found-casestudy-Py-key_files/figure-html/cell-52-output-1.png" width="816" height="607" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
</div>
</section>
<section id="checking-skewness-of-data" class="level4">
<h4 class="anchored" data-anchor-id="checking-skewness-of-data">Checking Skewness of data</h4>
<p>We actually do not have any missing values for TV but if we did we would check for Skewness to see how to handle the missing data, Median, Mean or remove.</p>
<div id="b59eaf15" class="cell" data-execution_count="52">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Checking skewness with Pandas</span></span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a>skewness <span class="op">=</span> data_to_explore[<span class="st">'tv'</span>].skew()</span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'Skewness of tv data: </span><span class="sc">{</span>skewness<span class="sc">}</span><span class="ss">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Skewness of tv data: -0.6182703781631922</code></pre>
</div>
</div>
</section>
</section>
<section id="interpretation-of-skewness-values" class="level3">
<h3 class="anchored" data-anchor-id="interpretation-of-skewness-values">Interpretation of Skewness Values</h3>
<ul>
<li><p><strong>Skewness = 0</strong>: The data is perfectly symmetrical.</p></li>
<li><p><strong>Skewness &gt; 0</strong>: The data is positively skewed (right-tailed).</p></li>
<li><p><strong>Skewness &lt; 0</strong>: The data is negatively skewed (left-tailed).</p></li>
</ul>
<section id="your-turn-14" class="level4">
<h4 class="anchored" data-anchor-id="your-turn-14"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></h4>
</section>
<section id="what-does-the-skewness-of--0.62-imply-how-should-we-handle-missing-values" class="level4">
<h4 class="anchored" data-anchor-id="what-does-the-skewness-of--0.62-imply-how-should-we-handle-missing-values">What does the skewness of <code>-0.62</code> imply? How should we handle missing values?</h4>
<ul>
<li>â€œYour answers hereâ€ (A skewness value of âˆ’0.6182703781631922-0.6182703781631922âˆ’0.6182703781631922 for the <code>tv</code> data means that the data distribution is negatively skewed, also known as left-skewed. Meaning we should use the median for imputation.</li>
</ul>
<p>We would rerun the graph with the new data filling in the missing values with Median. See below.</p>
<div id="bc6332f4" class="cell" data-execution_count="53">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate the median of the 'tv' variable</span></span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a>median_tv <span class="op">=</span> data_to_explore[<span class="st">'tv'</span>].median()</span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-4"><a href="#cb98-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Impute missing values with the median</span></span>
<span id="cb98-5"><a href="#cb98-5" aria-hidden="true" tabindex="-1"></a>data_to_explore[<span class="st">'tv'</span>].fillna(median_tv, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb98-6"><a href="#cb98-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb98-7"><a href="#cb98-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the histogram after imputation</span></span>
<span id="cb98-8"><a href="#cb98-8" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb98-9"><a href="#cb98-9" aria-hidden="true" tabindex="-1"></a>sns.histplot(data<span class="op">=</span>data_to_explore, x<span class="op">=</span><span class="st">'tv'</span>, bins<span class="op">=</span><span class="dv">5</span>)</span>
<span id="cb98-10"><a href="#cb98-10" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Number of Hours Students Watch TV per Day"</span>)  <span class="co"># Add the title</span></span>
<span id="cb98-11"><a href="#cb98-11" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"TV Watching Hours"</span>)  <span class="co"># Label for the x-axis</span></span>
<span id="cb98-12"><a href="#cb98-12" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Count"</span>)  <span class="co"># Label for the y-axis</span></span>
<span id="cb98-13"><a href="#cb98-13" aria-hidden="true" tabindex="-1"></a>plt.figtext(<span class="fl">0.5</span>, <span class="op">-</span><span class="fl">0.1</span>, <span class="st">"Approximately how many students watch 4+ hours of TV per day?"</span>, ha<span class="op">=</span><span class="st">"center"</span>, fontsize<span class="op">=</span><span class="dv">10</span>)  <span class="co"># Add the caption</span></span>
<span id="cb98-14"><a href="#cb98-14" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb98-15"><a href="#cb98-15" aria-hidden="true" tabindex="-1"></a>plt.clf() <span class="co">#add to clear the plot</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="found-casestudy-Py-key_files/figure-html/cell-54-output-1.png" width="816" height="607" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
</div>
</section>
</section>
<section id="two-categorical-variables" class="level3">
<h3 class="anchored" data-anchor-id="two-categorical-variables">Two Categorical Variables</h3>
<p>Create a basic visualization that examines the relationship between two categorical variables.</p>
<p>We will be guided by the following research question.</p>
<p>â“ What are the reasons for enrollment in various courses?</p>
<section id="heatmap" class="level4">
<h4 class="anchored" data-anchor-id="heatmap"><strong>Heatmap</strong></h4>
<ul>
<li><p><strong>data</strong>: data_to_explore</p></li>
<li><p>Use <code>groupby()</code> and <code>size()</code> to count <code>subject</code> and <code>enrollment_reason</code></p></li>
<li><p><strong>Plot type</strong>: sns.heatmap()</p></li>
<li><p>Add a <strong>title</strong> â€œReasons for Enrollment by Subjectâ€</p></li>
<li><p>Add a <strong>caption</strong>: â€œWhich subjects were the least available at local schools?â€</p></li>
</ul>
<div id="80497123" class="cell" data-execution_count="54">
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a pivot table for the heatmap</span></span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a>pivot_data <span class="op">=</span> data_to_explore.pivot_table(index<span class="op">=</span><span class="st">'enrollment_reason'</span>, columns<span class="op">=</span><span class="st">'subject'</span>, aggfunc<span class="op">=</span><span class="st">'size'</span>, fill_value<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the heatmap</span></span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">8</span>))</span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a>sns.heatmap(pivot_data, cmap<span class="op">=</span><span class="st">"YlOrRd"</span>, annot<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Reasons for Enrollment by Subject"</span>)  <span class="co"># Add the title</span></span>
<span id="cb100-8"><a href="#cb100-8" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Subject"</span>)  <span class="co"># Label for the x-axis</span></span>
<span id="cb100-9"><a href="#cb100-9" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Enrollment Reason"</span>)  <span class="co"># Label for the y-axis</span></span>
<span id="cb100-10"><a href="#cb100-10" aria-hidden="true" tabindex="-1"></a>plt.figtext(<span class="fl">0.5</span>, <span class="op">-</span><span class="fl">0.1</span>, <span class="st">"Which subjects were the least available at local schools?"</span>, ha<span class="op">=</span><span class="st">"center"</span>, fontsize<span class="op">=</span><span class="dv">10</span>)  <span class="co"># Add the caption</span></span>
<span id="cb100-11"><a href="#cb100-11" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb100-12"><a href="#cb100-12" aria-hidden="true" tabindex="-1"></a>plt.clf() <span class="co">#add to clear the plot</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="found-casestudy-Py-key_files/figure-html/cell-55-output-1.png" width="1104" height="795" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
</div>
<p>What didn;t we do????? Right, check for missing data - solets do that and rerun your script.</p>
<div id="642a90bb" class="cell" data-execution_count="55">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check the number of missing values before imputation</span></span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>missing_values_before <span class="op">=</span> data_to_explore[<span class="st">'enrollment_reason'</span>].isna().<span class="bu">sum</span>()</span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'Missing values before imputation: </span><span class="sc">{</span>missing_values_before<span class="sc">}</span><span class="ss">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Missing values before imputation: 227</code></pre>
</div>
</div>
<p>Handle Midsing data</p>
<div id="b95270a6" class="cell" data-execution_count="56">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Impute missing values with the string "Not Provided"</span></span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a>data_to_explore[<span class="st">'enrollment_reason'</span>].fillna(<span class="st">'Not Provided'</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb104-3"><a href="#cb104-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-4"><a href="#cb104-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Check the number of missing values after imputation</span></span>
<span id="cb104-5"><a href="#cb104-5" aria-hidden="true" tabindex="-1"></a>missing_values_after <span class="op">=</span> data_to_explore[<span class="st">'enrollment_reason'</span>].isna().<span class="bu">sum</span>()</span>
<span id="cb104-6"><a href="#cb104-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'Missing values after imputation: </span><span class="sc">{</span>missing_values_after<span class="sc">}</span><span class="ss">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Missing values after imputation: 0</code></pre>
</div>
</div>
</section>
<section id="your-turn-15" class="level4">
<h4 class="anchored" data-anchor-id="your-turn-15"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></h4>
<div id="4a437239" class="cell" data-execution_count="57">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a pivot table for the heatmap</span></span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>pivot_data <span class="op">=</span> data_to_explore.pivot_table(index<span class="op">=</span><span class="st">'enrollment_reason'</span>, columns<span class="op">=</span><span class="st">'subject'</span>, aggfunc<span class="op">=</span><span class="st">'size'</span>, fill_value<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Create the heatmap</span></span>
<span id="cb106-5"><a href="#cb106-5" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">8</span>))</span>
<span id="cb106-6"><a href="#cb106-6" aria-hidden="true" tabindex="-1"></a>sns.heatmap(pivot_data, cmap<span class="op">=</span><span class="st">"YlOrRd"</span>, annot<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb106-7"><a href="#cb106-7" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Reasons for Enrollment by Subject"</span>)  <span class="co"># Add the title</span></span>
<span id="cb106-8"><a href="#cb106-8" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Subject"</span>)  <span class="co"># Label for the x-axis</span></span>
<span id="cb106-9"><a href="#cb106-9" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Enrollment Reason"</span>)  <span class="co"># Label for the y-axis</span></span>
<span id="cb106-10"><a href="#cb106-10" aria-hidden="true" tabindex="-1"></a>plt.figtext(<span class="fl">0.5</span>, <span class="op">-</span><span class="fl">0.1</span>, <span class="st">"Which subjects were the least available at local schools?"</span>, ha<span class="op">=</span><span class="st">"center"</span>, fontsize<span class="op">=</span><span class="dv">10</span>)  <span class="co"># Add the caption</span></span>
<span id="cb106-11"><a href="#cb106-11" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb106-12"><a href="#cb106-12" aria-hidden="true" tabindex="-1"></a>plt.clf() <span class="co">#add to clear the plot</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="found-casestudy-Py-key_files/figure-html/cell-58-output-1.png" width="1104" height="795" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
</div>
<p>What do you notice here?</p>
</section>
</section>
<section id="two-continuous-variables" class="level3">
<h3 class="anchored" data-anchor-id="two-continuous-variables">Two Continuous Variables</h3>
<p>Create a basic visualization that examines the relationship between two continuous variables.</p>
<section id="scatter-plot" class="level4">
<h4 class="anchored" data-anchor-id="scatter-plot"><strong>Scatter plot</strong></h4>
<p>We will be guided by the following research question.</p>
<p>â“ Can we predict the grade in a course from the time spent in the course LMS?</p>
<div id="648b803e" class="cell" data-execution_count="58">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Look at the data frame</span></span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>data_to_explore.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="57">
<div>


<table class="dataframe caption-top table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">student_id</th>
<th data-quarto-table-cell-role="th">course_id</th>
<th data-quarto-table-cell-role="th">gender</th>
<th data-quarto-table-cell-role="th">enrollment_reason</th>
<th data-quarto-table-cell-role="th">enrollment_status</th>
<th data-quarto-table-cell-role="th">time_spent</th>
<th data-quarto-table-cell-role="th">time_spent_hours</th>
<th data-quarto-table-cell-role="th">total_points_possible</th>
<th data-quarto-table-cell-role="th">total_points_earned</th>
<th data-quarto-table-cell-role="th">proportion_earned</th>
<th data-quarto-table-cell-role="th">...</th>
<th data-quarto-table-cell-role="th">q8</th>
<th data-quarto-table-cell-role="th">q9</th>
<th data-quarto-table-cell-role="th">q10</th>
<th data-quarto-table-cell-role="th">date.x</th>
<th data-quarto-table-cell-role="th">post_int</th>
<th data-quarto-table-cell-role="th">post_uv</th>
<th data-quarto-table-cell-role="th">post_tv</th>
<th data-quarto-table-cell-role="th">post_percomp</th>
<th data-quarto-table-cell-role="th">date.y</th>
<th data-quarto-table-cell-role="th">date</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>60186</td>
<td>AnPhA-S116-01</td>
<td>M</td>
<td>Course Unavailable at Local School</td>
<td>Approved/Enrolled</td>
<td>2087.0501</td>
<td>34.784168</td>
<td>1775.0</td>
<td>1674.73000</td>
<td>94.35</td>
<td>...</td>
<td>4.0</td>
<td>4.0</td>
<td>4.0</td>
<td>2015-09-17T16:41:00Z</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>66693</td>
<td>AnPhA-S116-01</td>
<td>M</td>
<td>Course Unavailable at Local School</td>
<td>Approved/Enrolled</td>
<td>2309.0334</td>
<td>38.483890</td>
<td>1775.0</td>
<td>1674.25000</td>
<td>94.32</td>
<td>...</td>
<td>5.0</td>
<td>5.0</td>
<td>5.0</td>
<td>2015-09-10T17:43:00Z</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>66811</td>
<td>AnPhA-S116-01</td>
<td>F</td>
<td>Course Unavailable at Local School</td>
<td>Approved/Enrolled</td>
<td>5298.8507</td>
<td>88.314178</td>
<td>1775.0</td>
<td>1633.15000</td>
<td>92.01</td>
<td>...</td>
<td>4.0</td>
<td>4.0</td>
<td>4.0</td>
<td>2015-09-10T18:16:00Z</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>66862</td>
<td>AnPhA-S116-01</td>
<td>F</td>
<td>Course Unavailable at Local School</td>
<td>Approved/Enrolled</td>
<td>1746.9667</td>
<td>29.116112</td>
<td>1775.0</td>
<td>1118.57333</td>
<td>63.02</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>67508</td>
<td>AnPhA-S116-01</td>
<td>F</td>
<td>Scheduling Conflict</td>
<td>Approved/Enrolled</td>
<td>2668.1830</td>
<td>44.469717</td>
<td>1775.0</td>
<td>1528.34333</td>
<td>86.10</td>
<td>...</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
<td>NaN</td>
</tr>
</tbody>
</table>

<p>5 rows Ã— 35 columns</p>
</div>
</div>
</div>
<p>â“ Which variables should we be looking at?</p>
</section>
<section id="answer-here" class="level4">
<h4 class="anchored" data-anchor-id="answer-here"><strong>ğŸ‘‰ Answer</strong> here <strong>â¤µ</strong></h4>
<ul>
<li><p><code>time_spent_hours</code></p></li>
<li><p><code>proportion_earned</code></p></li>
</ul>
</section>
<section id="level-a.-the-most-basic-level-for-a-scatter-plot" class="level4">
<h4 class="anchored" data-anchor-id="level-a.-the-most-basic-level-for-a-scatter-plot">Level a. The most basic level for a <strong>scatter</strong> plot</h4>
<p>Includes:</p>
<ul>
<li><p><strong>data</strong>: data_to_explore.csv</p></li>
<li><p><strong><code>aes()</code> function</strong> - two continuous variables</p>
<ul>
<li><p>time spent in hours mapped to x position</p></li>
<li><p>proportion earned mapped to y position</p></li>
</ul></li>
<li><p><strong>Plot type</strong>: sns.scatterplot()</p></li>
</ul>
</section>
<section id="your-turn-16" class="level4">
<h4 class="anchored" data-anchor-id="your-turn-16"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></h4>
<div id="ddf36cc6" class="cell" data-execution_count="59">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a scatter plot</span></span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data<span class="op">=</span>data_to_explore, x<span class="op">=</span><span class="st">'time_spent_hours'</span>, y<span class="op">=</span><span class="st">'proportion_earned'</span>)</span>
<span id="cb109-4"><a href="#cb109-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Relationship Between Time Spent and Proportion of Points Earned"</span>)  <span class="co"># Add the title</span></span>
<span id="cb109-5"><a href="#cb109-5" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Time Spent (Hours)"</span>)  <span class="co"># Label for the x-axis</span></span>
<span id="cb109-6"><a href="#cb109-6" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Proportion of Points Earned"</span>)  <span class="co"># Label for the y-axis</span></span>
<span id="cb109-7"><a href="#cb109-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb109-8"><a href="#cb109-8" aria-hidden="true" tabindex="-1"></a>plt.clf() <span class="co">#add to clear the plot</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="found-casestudy-Py-key_files/figure-html/cell-60-output-1.png" width="816" height="523" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
</div>
</section>
<section id="level-b.-add-another-layer-with-labels" class="level4">
<h4 class="anchored" data-anchor-id="level-b.-add-another-layer-with-labels">Level b. Add another layer with labels</h4>
<ul>
<li><p>Add a <strong>title</strong>: â€œHow Time Spent on Course LMS is Related to Points Earned in the Courseâ€</p></li>
<li><p>Add a <strong>x label</strong>: â€œTime Spent (Hours)â€</p></li>
<li><p>Add a <strong>y label</strong>: â€œProportion of Points Earnedâ€</p></li>
</ul>
</section>
<section id="your-turn-17" class="level4">
<h4 class="anchored" data-anchor-id="your-turn-17"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></h4>
<div id="7b66e4a5" class="cell" data-execution_count="60">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb111-1"><a href="#cb111-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a scatter plot with labels</span></span>
<span id="cb111-2"><a href="#cb111-2" aria-hidden="true" tabindex="-1"></a><span class="co">#YOUR CODE HERE:</span></span>
<span id="cb111-3"><a href="#cb111-3" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb111-4"><a href="#cb111-4" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data<span class="op">=</span>data_to_explore, x<span class="op">=</span><span class="st">'time_spent_hours'</span>, y<span class="op">=</span><span class="st">'proportion_earned'</span>)</span>
<span id="cb111-5"><a href="#cb111-5" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"How Time Spent on Course LMS is Related to Points Earned in the Course"</span>)  <span class="co"># Add the title</span></span>
<span id="cb111-6"><a href="#cb111-6" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Time Spent (Hours)"</span>)  <span class="co"># Label for the x-axis</span></span>
<span id="cb111-7"><a href="#cb111-7" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Proportion of Points Earned"</span>)  <span class="co"># Label for the y-axis</span></span>
<span id="cb111-8"><a href="#cb111-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="found-casestudy-Py-key_files/figure-html/cell-61-output-1.png" width="816" height="523" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="level-c.-add-scale-with-a-different-color." class="level4">
<h4 class="anchored" data-anchor-id="level-c.-add-scale-with-a-different-color.">Level c.&nbsp;Add <strong>Scale</strong> with a different color.</h4>
</section>
<section id="can-we-notice-anything-about-enrollment-status" class="level4">
<h4 class="anchored" data-anchor-id="can-we-notice-anything-about-enrollment-status">â“ Can we notice anything about enrollment status?</h4>
<ul>
<li>Add <strong>scale</strong> in <code>sns.scatterplot()</code>: hue=â€˜enrollment_statusâ€™</li>
</ul>
</section>
<section id="your-turn-18" class="level4">
<h4 class="anchored" data-anchor-id="your-turn-18"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></h4>
<div id="a243b127" class="cell" data-execution_count="61">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a scatter plot with color based on enrollment_status</span></span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a><span class="co">#YOUR CODE HERE:</span></span>
<span id="cb112-3"><a href="#cb112-3" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb112-4"><a href="#cb112-4" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(data<span class="op">=</span>data_to_explore, x<span class="op">=</span><span class="st">'time_spent_hours'</span>, y<span class="op">=</span><span class="st">'proportion_earned'</span>, hue<span class="op">=</span><span class="st">'enrollment_status'</span>)</span>
<span id="cb112-5"><a href="#cb112-5" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"How Time Spent on Course LMS is Related to Points Earned in the Course by Enrollment Status"</span>)  <span class="co"># Add the title</span></span>
<span id="cb112-6"><a href="#cb112-6" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Time Spent (Hours)"</span>)  <span class="co"># Label for the x-axis</span></span>
<span id="cb112-7"><a href="#cb112-7" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"Proportion of Points Earned"</span>)  <span class="co"># Label for the y-axis</span></span>
<span id="cb112-8"><a href="#cb112-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="found-casestudy-Py-key_files/figure-html/cell-62-output-1.png" width="823" height="523" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="level-d.-divide-up-graphs-using-facet-to-visualize-by-subject." class="level4">
<h4 class="anchored" data-anchor-id="level-d.-divide-up-graphs-using-facet-to-visualize-by-subject.">Level d.&nbsp;Divide up graphs using facet to visualize by subject.</h4>
<ul>
<li>Add <strong>facet</strong> with <code>sns.FacetGrid()</code>: by subject</li>
</ul>
</section>
<section id="your-turn-19" class="level4">
<h4 class="anchored" data-anchor-id="your-turn-19"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></h4>
<div id="cab5f134" class="cell" data-execution_count="62">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb113-1"><a href="#cb113-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a scatter plot with facets for each subject</span></span>
<span id="cb113-2"><a href="#cb113-2" aria-hidden="true" tabindex="-1"></a><span class="co">#YOUR CODE HERE:</span></span>
<span id="cb113-3"><a href="#cb113-3" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> sns.FacetGrid(data_to_explore, col<span class="op">=</span><span class="st">'subject'</span>, col_wrap<span class="op">=</span><span class="dv">3</span>, height<span class="op">=</span><span class="dv">4</span>)</span>
<span id="cb113-4"><a href="#cb113-4" aria-hidden="true" tabindex="-1"></a>g.<span class="bu">map</span>(sns.scatterplot, <span class="st">'time_spent_hours'</span>, <span class="st">'proportion_earned'</span>, <span class="st">'enrollment_status'</span>)</span>
<span id="cb113-5"><a href="#cb113-5" aria-hidden="true" tabindex="-1"></a>g.add_legend()</span>
<span id="cb113-6"><a href="#cb113-6" aria-hidden="true" tabindex="-1"></a>g.set_titles(<span class="st">"</span><span class="sc">{col_name}</span><span class="st"> Subject"</span>)</span>
<span id="cb113-7"><a href="#cb113-7" aria-hidden="true" tabindex="-1"></a>g.set_axis_labels(<span class="st">"Time Spent (Hours)"</span>, <span class="st">"Proportion of Points Earned"</span>)</span>
<span id="cb113-8"><a href="#cb113-8" aria-hidden="true" tabindex="-1"></a>plt.figtext(<span class="fl">0.5</span>, <span class="op">-</span><span class="fl">0.1</span>, <span class="st">"How Time Spent on Course LMS is Related to Points Earned in the Course by Subject"</span>, ha<span class="op">=</span><span class="st">"center"</span>, fontsize<span class="op">=</span><span class="dv">10</span>)  <span class="co"># Add the caption</span></span>
<span id="cb113-9"><a href="#cb113-9" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="found-casestudy-Py-key_files/figure-html/cell-63-output-1.png" width="1312" height="853" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="level-e.-how-can-we-remove-nas-from-plot-and-what-will-the-code-look-like-without-the-comments" class="level4">
<h4 class="anchored" data-anchor-id="level-e.-how-can-we-remove-nas-from-plot-and-what-will-the-code-look-like-without-the-comments">Level e. How can we remove NAâ€™s from plot? and What will the code look like without the comments?</h4>
<ul>
<li><p>Use <strong>dropna()</strong> to remove NAâ€™s</p></li>
<li><p>Add labels to the <strong>plt.title()</strong> function like above.</p></li>
<li><p>Use FacetGrid by subject</p></li>
</ul>
<div id="785e44be" class="cell" data-execution_count="63">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Drop rows with missing values and create the scatter plot</span></span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a>cleaned_data <span class="op">=</span> data_to_explore.dropna(subset<span class="op">=</span>[<span class="st">'time_spent_hours'</span>, <span class="st">'proportion_earned'</span>, <span class="st">'enrollment_status'</span>, <span class="st">'subject'</span>])</span>
<span id="cb114-3"><a href="#cb114-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-4"><a href="#cb114-4" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> sns.FacetGrid(cleaned_data, col<span class="op">=</span><span class="st">'subject'</span>, col_wrap<span class="op">=</span><span class="dv">3</span>, height<span class="op">=</span><span class="dv">4</span>)</span>
<span id="cb114-5"><a href="#cb114-5" aria-hidden="true" tabindex="-1"></a>g.<span class="bu">map</span>(sns.scatterplot, <span class="st">'time_spent_hours'</span>, <span class="st">'proportion_earned'</span>, <span class="st">'enrollment_status'</span>)</span>
<span id="cb114-6"><a href="#cb114-6" aria-hidden="true" tabindex="-1"></a>g.add_legend(title<span class="op">=</span><span class="st">"Enrollment Status"</span>, bbox_to_anchor<span class="op">=</span>(<span class="dv">1</span>, <span class="fl">0.3</span>), loc<span class="op">=</span><span class="st">'right'</span>, borderaxespad<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb114-7"><a href="#cb114-7" aria-hidden="true" tabindex="-1"></a>g.set_titles(<span class="st">"</span><span class="sc">{col_name}</span><span class="st"> Subject"</span>)</span>
<span id="cb114-8"><a href="#cb114-8" aria-hidden="true" tabindex="-1"></a>g.set_axis_labels(<span class="st">"Time Spent (Hours)"</span>, <span class="st">"Proportion of Points Earned"</span>)</span>
<span id="cb114-9"><a href="#cb114-9" aria-hidden="true" tabindex="-1"></a>plt.figtext(<span class="fl">0.5</span>, <span class="op">-</span><span class="fl">0.1</span>, <span class="st">"How Time Spent on Course LMS is Related to Points Earned in the Course by Subject"</span>, ha<span class="op">=</span><span class="st">"center"</span>, fontsize<span class="op">=</span><span class="dv">10</span>)  <span class="co"># Add the caption</span></span>
<span id="cb114-10"><a href="#cb114-10" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="found-casestudy-Py-key_files/figure-html/cell-64-output-1.png" width="1318" height="853" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p><img src="img/teacher_persona.png" alt="Teacher Persona" class="wrap-img"> <strong><em>As Alex explores the data through visualizations and summary statistics, she begins to see trends that could indicate which students are at risk. Her observations guide her to consider changes in her teaching approach or additional support for certain students.</em></strong></p>
</section>
</section>
<section id="identifying-outliers" class="level3">
<h3 class="anchored" data-anchor-id="identifying-outliers">Identifying Outliers</h3>
<p>In exploratory data analysis, identifying outliers is crucial as they can significantly impact the results of your analysis and the performance of your models. Outliers are data points that differ significantly from other observations. There are several ways to identify outliers, and visualizations are an excellent tool for this.</p>
<p>We will be guided by the following research question.</p>
<p>â“ Which studentsâ€™ TV watching hours are outliers?</p>
<section id="box-plot" class="level4">
<h4 class="anchored" data-anchor-id="box-plot"><strong>Box Plot</strong></h4>
<p>A box plot (or box-and-whisker plot) is a standardized way of displaying the distribution of data based on a five-number summary: minimum, first quartile (Q1), median, third quartile (Q3), and maximum. Outliers can often be identified as points that are located outside the whiskers of the box plot.</p>
<ul>
<li><p><strong>data</strong>: data_to_explore</p></li>
<li><p><strong>x parameter</strong>: â€˜subjectâ€™</p></li>
<li><p><strong>y parameter</strong>: â€˜tvâ€™</p></li>
<li><p><strong>Plot type</strong>: sns.boxplot()</p></li>
<li><p>Add a <strong>title</strong>: â€œBox Plot of TV Watching Hours by Subjectâ€</p></li>
<li><p>Add a <strong>caption</strong>: â€œIdentifying Outliers in TV Watching Hours by Subjectâ€</p></li>
</ul>
<div id="a2751e50" class="cell" data-execution_count="64">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb115-1"><a href="#cb115-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a box plot for TV watching hours by subject</span></span>
<span id="cb115-2"><a href="#cb115-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">8</span>))</span>
<span id="cb115-3"><a href="#cb115-3" aria-hidden="true" tabindex="-1"></a>sns.boxplot(data<span class="op">=</span>data_to_explore, x<span class="op">=</span><span class="st">'subject'</span>, y<span class="op">=</span><span class="st">'tv'</span>)</span>
<span id="cb115-4"><a href="#cb115-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Box Plot of TV Watching Hours by Subject"</span>)  <span class="co"># Add the title</span></span>
<span id="cb115-5"><a href="#cb115-5" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Subject"</span>)  <span class="co"># Label for the x-axis</span></span>
<span id="cb115-6"><a href="#cb115-6" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"TV Watching Hours"</span>)  <span class="co"># Label for the y-axis</span></span>
<span id="cb115-7"><a href="#cb115-7" aria-hidden="true" tabindex="-1"></a>plt.figtext(<span class="fl">0.5</span>, <span class="op">-</span><span class="fl">0.1</span>, <span class="st">"Identifying Outliers in TV Watching Hours by Subject"</span>, ha<span class="op">=</span><span class="st">"center"</span>, fontsize<span class="op">=</span><span class="dv">10</span>)  <span class="co"># Add the caption</span></span>
<span id="cb115-8"><a href="#cb115-8" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="found-casestudy-Py-key_files/figure-html/cell-65-output-1.png" width="961" height="795" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Analyzing the Box Plot</p>
<p>Look at the box plot and answer the following questions:</p>
<ul>
<li><p>Which subjects have the most outliers in TV watching hours?</p></li>
<li><p>Are there any subjects where the median TV watching hours are significantly different from others?</p></li>
<li><p>Which subjects have the widest range of TV watching hours?</p></li>
</ul>
</section>
<section id="your-turn-20" class="level4">
<h4 class="anchored" data-anchor-id="your-turn-20"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></h4>
<p><strong>Answer</strong> the questions based on your observations from the box plot.</p>
</section>
</section>
<section id="highlighting-outliers" class="level3">
<h3 class="anchored" data-anchor-id="highlighting-outliers">Highlighting Outliers</h3>
<p>To make it even clearer, you can add a scatter plot on top of the box plot to highlight the outliers. This can be done by overlaying the individual data points.</p>
<section id="your-turn-21" class="level4">
<h4 class="anchored" data-anchor-id="your-turn-21"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></h4>
<div id="249ceacd" class="cell" data-execution_count="65">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a box plot with scatter plot overlay for outliers</span></span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a><span class="co">#YOUR CODE HERE:</span></span>
<span id="cb116-3"><a href="#cb116-3" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">8</span>))</span>
<span id="cb116-4"><a href="#cb116-4" aria-hidden="true" tabindex="-1"></a>sns.boxplot(data<span class="op">=</span>data_to_explore, x<span class="op">=</span><span class="st">'subject'</span>, y<span class="op">=</span><span class="st">'tv'</span>)</span>
<span id="cb116-5"><a href="#cb116-5" aria-hidden="true" tabindex="-1"></a>sns.stripplot(data<span class="op">=</span>data_to_explore, x<span class="op">=</span><span class="st">'subject'</span>, y<span class="op">=</span><span class="st">'tv'</span>, color<span class="op">=</span><span class="st">'red'</span>, jitter<span class="op">=</span><span class="va">True</span>, alpha<span class="op">=</span><span class="fl">0.5</span>)</span>
<span id="cb116-6"><a href="#cb116-6" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">"Box Plot of TV Watching Hours by Subject with Outliers Highlighted"</span>)  <span class="co"># Add the title</span></span>
<span id="cb116-7"><a href="#cb116-7" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Subject"</span>)  <span class="co"># Label for the x-axis</span></span>
<span id="cb116-8"><a href="#cb116-8" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">"TV Watching Hours"</span>)  <span class="co"># Label for the y-axis</span></span>
<span id="cb116-9"><a href="#cb116-9" aria-hidden="true" tabindex="-1"></a>plt.figtext(<span class="fl">0.5</span>, <span class="op">-</span><span class="fl">0.1</span>, <span class="st">"Identifying Outliers in TV Watching Hours by Subject"</span>, ha<span class="op">=</span><span class="st">"center"</span>, fontsize<span class="op">=</span><span class="dv">10</span>)  <span class="co"># Add the caption</span></span>
<span id="cb116-10"><a href="#cb116-10" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="found-casestudy-Py-key_files/figure-html/cell-66-output-1.png" width="961" height="795" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p>By overlaying a scatter plot on the box plot, you can clearly see which points are considered outliers. This method provides a comprehensive view of the data distribution and highlights any anomalies.</p>
</section>
</section>
<section id="step-1-identify-outliers-using-the-iqr-method" class="level3">
<h3 class="anchored" data-anchor-id="step-1-identify-outliers-using-the-iqr-method">Step 1: Identify Outliers Using the IQR Method</h3>
<p>Weâ€™ll start by identifying the outliers using the IQR method.</p>
<ol type="1">
<li><p><strong>Calculate the Interquartile Range (IQR)</strong>:</p>
<ul>
<li><p>Q1 (25th percentile)</p></li>
<li><p>Q3 (75th percentile)</p></li>
<li><p>IQR = Q3 - Q1</p></li>
</ul></li>
<li><p><strong>Define the outlier thresholds</strong>:</p>
<ul>
<li><p>Lower bound: Q1 - 1.5 * IQR</p></li>
<li><p>Upper bound: Q3 + 1.5 * IQR</p></li>
</ul></li>
<li><p><strong>Filter out the outliers</strong>.</p></li>
</ol>
<div id="31f53ae5" class="cell" data-execution_count="66">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb117-1"><a href="#cb117-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculate Q1 (25th percentile) and Q3 (75th percentile) for 'tv' column</span></span>
<span id="cb117-2"><a href="#cb117-2" aria-hidden="true" tabindex="-1"></a>Q1 <span class="op">=</span> data_to_explore[<span class="st">'tv'</span>].quantile(<span class="fl">0.25</span>)</span>
<span id="cb117-3"><a href="#cb117-3" aria-hidden="true" tabindex="-1"></a>Q3 <span class="op">=</span> data_to_explore[<span class="st">'tv'</span>].quantile(<span class="fl">0.75</span>)</span>
<span id="cb117-4"><a href="#cb117-4" aria-hidden="true" tabindex="-1"></a>IQR <span class="op">=</span> Q3 <span class="op">-</span> Q1  <span class="co"># Interquartile Range</span></span>
<span id="cb117-5"><a href="#cb117-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-6"><a href="#cb117-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Define outlier thresholds</span></span>
<span id="cb117-7"><a href="#cb117-7" aria-hidden="true" tabindex="-1"></a>lower_bound <span class="op">=</span> Q1 <span class="op">-</span> <span class="fl">1.5</span> <span class="op">*</span> IQR</span>
<span id="cb117-8"><a href="#cb117-8" aria-hidden="true" tabindex="-1"></a>upper_bound <span class="op">=</span> Q3 <span class="op">+</span> <span class="fl">1.5</span> <span class="op">*</span> IQR</span>
<span id="cb117-9"><a href="#cb117-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-10"><a href="#cb117-10" aria-hidden="true" tabindex="-1"></a><span class="co"># Filter out the outliers</span></span>
<span id="cb117-11"><a href="#cb117-11" aria-hidden="true" tabindex="-1"></a>filtered_data <span class="op">=</span> data_to_explore[(data_to_explore[<span class="st">'tv'</span>] <span class="op">&gt;=</span> lower_bound) <span class="op">&amp;</span> (data_to_explore[<span class="st">'tv'</span>] <span class="op">&lt;=</span> upper_bound)]</span>
<span id="cb117-12"><a href="#cb117-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb117-13"><a href="#cb117-13" aria-hidden="true" tabindex="-1"></a>filtered_data.shape, filtered_data.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="65">
<pre><code>((844, 35),
   student_id      course_id gender                   enrollment_reason  \
 0      60186  AnPhA-S116-01      M  Course Unavailable at Local School   
 2      66811  AnPhA-S116-01      F  Course Unavailable at Local School   
 3      66862  AnPhA-S116-01      F  Course Unavailable at Local School   
 4      67508  AnPhA-S116-01      F                 Scheduling Conflict   
 5      70532  AnPhA-S116-01      F  Learning Preference of the Student   
 
    enrollment_status  time_spent  time_spent_hours  total_points_possible  \
 0  Approved/Enrolled   2087.0501         34.784168                 1775.0   
 2  Approved/Enrolled   5298.8507         88.314178                 1775.0   
 3  Approved/Enrolled   1746.9667         29.116112                 1775.0   
 4  Approved/Enrolled   2668.1830         44.469717                 1775.0   
 5  Approved/Enrolled   2938.4666         48.974443                 1775.0   
 
    total_points_earned  proportion_earned  ...   q8   q9  q10  \
 0           1674.73000              94.35  ...  4.0  4.0  4.0   
 2           1633.15000              92.01  ...  4.0  4.0  4.0   
 3           1118.57333              63.02  ...  NaN  NaN  NaN   
 4           1528.34333              86.10  ...  NaN  NaN  NaN   
 5           1673.62000              94.29  ...  4.0  4.0  4.0   
 
                  date.x  post_int  post_uv  post_tv  post_percomp  date.y  \
 0  2015-09-17T16:41:00Z       NaN      NaN      NaN           NaN     NaN   
 2  2015-09-10T18:16:00Z       NaN      NaN      NaN           NaN     NaN   
 3                   NaN       NaN      NaN      NaN           NaN     NaN   
 4                   NaN       NaN      NaN      NaN           NaN     NaN   
 5  2015-09-11T17:18:00Z       NaN      NaN      NaN           NaN     NaN   
 
    date  
 0   NaN  
 2   NaN  
 3   NaN  
 4   NaN  
 5   NaN  
 
 [5 rows x 35 columns])</code></pre>
</div>
</div>
</section>
<section id="step-2-visualize-the-data-with-and-without-outliers" class="level3">
<h3 class="anchored" data-anchor-id="step-2-visualize-the-data-with-and-without-outliers">Step 2: Visualize the Data with and without Outliers</h3>
<p>Letâ€™s create a box plot to visualize the outliers and then plot the filtered data.</p>
<section id="box-plot-with-outliers" class="level4">
<h4 class="anchored" data-anchor-id="box-plot-with-outliers"><strong>Box Plot with Outliers</strong>:</h4>
<div id="6e19363d" class="cell" data-execution_count="67">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Box plot to visualize outliers</span></span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb119-3"><a href="#cb119-3" aria-hidden="true" tabindex="-1"></a>sns.boxplot(data<span class="op">=</span>data_to_explore, x<span class="op">=</span><span class="st">'tv'</span>)</span>
<span id="cb119-4"><a href="#cb119-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Box Plot of TV Watching Hours with Outliers'</span>)</span>
<span id="cb119-5"><a href="#cb119-5" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'TV Watching Hours'</span>)</span>
<span id="cb119-6"><a href="#cb119-6" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="found-casestudy-Py-key_files/figure-html/cell-68-output-1.png" width="768" height="523" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="box-plot-without-outliers" class="level4">
<h4 class="anchored" data-anchor-id="box-plot-without-outliers"><strong>Box Plot without Outliers</strong>:</h4>
<div id="533e0a10" class="cell" data-execution_count="68">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Box plot to visualize the data without outliers</span></span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb120-3"><a href="#cb120-3" aria-hidden="true" tabindex="-1"></a>sns.boxplot(data<span class="op">=</span>filtered_data, x<span class="op">=</span><span class="st">'tv'</span>)</span>
<span id="cb120-4"><a href="#cb120-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Box Plot of TV Watching Hours without Outliers'</span>)</span>
<span id="cb120-5"><a href="#cb120-5" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'TV Watching Hours'</span>)</span>
<span id="cb120-6"><a href="#cb120-6" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="found-casestudy-Py-key_files/figure-html/cell-69-output-1.png" width="768" height="523" class="figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="step-3-exploratory-analysis-questions" class="level3">
<h3 class="anchored" data-anchor-id="step-3-exploratory-analysis-questions">Step 3: Exploratory Analysis Questions</h3>
<p>Here are some exploratory analysis questions we can ask:</p>
<ol type="1">
<li><strong>What is the distribution of TV watching hours among students?</strong>:</li>
</ol>
<div id="74908c81" class="cell" data-execution_count="69">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a>sns.histplot(data<span class="op">=</span>filtered_data, x<span class="op">=</span><span class="st">'tv'</span>, bins<span class="op">=</span><span class="dv">10</span>)</span>
<span id="cb121-3"><a href="#cb121-3" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Histogram of TV Watching Hours'</span>)</span>
<span id="cb121-4"><a href="#cb121-4" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'TV Watching Hours'</span>)</span>
<span id="cb121-5"><a href="#cb121-5" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Count'</span>)</span>
<span id="cb121-6"><a href="#cb121-6" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="found-casestudy-Py-key_files/figure-html/cell-70-output-1.png" width="816" height="523" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<ol start="2" type="1">
<li><p><strong>How do outliers affect the overall analysis?</strong>:</p>
<ul>
<li><strong>Compare</strong>: Summary statistics (mean, median) with and without outliers.</li>
</ul></li>
</ol>
<div id="4a48060e" class="cell" data-execution_count="70">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary statistics with outliers</span></span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"Summary statistics with outliers:"</span>)</span>
<span id="cb122-3"><a href="#cb122-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data_to_explore[<span class="st">'tv'</span>].describe())</span>
<span id="cb122-4"><a href="#cb122-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-5"><a href="#cb122-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Summary statistics without outliers</span></span>
<span id="cb122-6"><a href="#cb122-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">"</span><span class="ch">\n</span><span class="st">Summary statistics without outliers:"</span>)</span>
<span id="cb122-7"><a href="#cb122-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(filtered_data[<span class="st">'tv'</span>].describe())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Summary statistics with outliers:
count    943.000000
mean       4.083851
std        0.487504
min        1.000000
25%        3.857143
50%        4.125000
75%        4.285714
max        5.000000
Name: tv, dtype: float64

Summary statistics without outliers:
count    844.000000
mean       4.105366
std        0.342019
min        3.250000
25%        4.000000
50%        4.125000
75%        4.250000
max        4.875000
Name: tv, dtype: float64</code></pre>
</div>
</div>
<ol start="3" type="1">
<li><p><strong>Are there any patterns in TV watching hours among different subjects?</strong>:</p>
<ul>
<li><strong>Plot</strong>: Box plot of TV watching hours by subject.</li>
</ul></li>
</ol>
<div id="7e650928" class="cell" data-execution_count="71">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>, <span class="dv">8</span>))</span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a>sns.boxplot(data<span class="op">=</span>filtered_data, x<span class="op">=</span><span class="st">'subject'</span>, y<span class="op">=</span><span class="st">'tv'</span>)</span>
<span id="cb124-3"><a href="#cb124-3" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Box Plot of TV Watching Hours by Subject'</span>)</span>
<span id="cb124-4"><a href="#cb124-4" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Subject'</span>)</span>
<span id="cb124-5"><a href="#cb124-5" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'TV Watching Hours'</span>)</span>
<span id="cb124-6"><a href="#cb124-6" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="found-casestudy-Py-key_files/figure-html/cell-72-output-1.png" width="961" height="671" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p><img src="img/teacher%20persona.png" alt="Teacher Persona" class="wrap-img"></p>
<p><strong><em>As Alex explores the data through visualizations and summary statistics, she begins to see trends that could indicate which students are at risk. Her observations guide her to consider changes in her teaching approach or additional support for certain students.</em></strong></p>
<p>ğŸ›‘ Stop here. Congratulations you finished the second part of the case study.</p>
</section>
</section>
<section id="model-module-3" class="level2">
<h2 class="anchored" data-anchor-id="model-module-3">4. Model (Module 3)</h2>
<p>Quantify the insights using mathematical models. As highlighted in.<a href="https://datascienceineducation.com/c03.html">Chapter 3 of Data Science in Education Using R</a>, the.<strong>Model</strong> step of the data science process entails â€œusing statistical models, from simple to complex, to understand trends and patterns in the data.â€</p>
<p>The authors note that while descriptive statistics and data visualization during the<strong>Explore</strong>step can help us to identify patterns and relationships in our data, statistical models can be used to help us determine if relationships, patterns and trends are actually meaningful.</p>
<section id="install-necessary-packages-in-terminal" class="level4">
<h4 class="anchored" data-anchor-id="install-necessary-packages-in-terminal">Install necessary packages in terminal</h4>
<p>Remember to install the packages before calling the necessary libraries</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>everything after the <code>$</code> in the Terminal</strong> (MAC/LINUX)</p>
<p>$ python3 -m pip install statsmodels</p>
<p>$ python3 -m pip install scipy</p>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>everything after the <code>$</code> in the Terminal</strong> (Windows)</p>
<p>$ py -m pip install statsmodels</p>
<p>$ py -m pip install scipy</p>
</div>
</div>
<section id="load-necessary-libraries" class="level5">
<h5 class="anchored" data-anchor-id="load-necessary-libraries">Load necessary libraries</h5>
<div id="0b4326f3" class="cell" data-execution_count="72">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb125-1"><a href="#cb125-1" aria-hidden="true" tabindex="-1"></a><span class="co">#Load libraries</span></span>
<span id="cb125-2"><a href="#cb125-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> statsmodels.api <span class="im">as</span> sm <span class="co">#functions and classes for statistical models and tests.</span></span>
<span id="cb125-3"><a href="#cb125-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> scipy.stats <span class="im">as</span> stats <span class="co">#for probability distributions as well as statistical functions.</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="a.-correlation-matrix" class="level4">
<h4 class="anchored" data-anchor-id="a.-correlation-matrix">A. Correlation Matrix</h4>
<p>As highlighted in <span class="citation" data-cites="macfadyen2010">@macfadyen2010</span>, scatter plots are a useful initial approach for identifying potential correlational trends between variables under investigation, but to further interrogate the significance of selected variables as indicators of student achievement, a simple correlation analysis of each variable with student final grade can be conducted.</p>
<p>There are two efficient ways to create correlation matrices, one that is best for internal use, and one that is best for inclusion in a manuscript. The {corrr} package provides a way to create a correlation matrix in a {tidyverse}-friendly way. Like for the {skimr} package, it can take as little as a line of code to create a correlation matrix. If not familiar, a correlation matrix is a table that presents how <em>all of the variables</em> are related to <em>all of the other variables</em>.</p>
<p>To understand the relationship between different variables, such as <code>time_spent_hours</code> and <code>proportion_earned</code>, we can use a correlation matrix. In Python, this is straightforward with the use of Pandas and Seaborn for visualization.</p>
<p><strong>Simple Correlation</strong>:</p>
<p>You need to:</p>
<ul>
<li><p>Select the variables of interest from <code>data_to_explore</code>.</p>
<ul>
<li><p><code>proportion _earned</code></p></li>
<li><p><code>time_spent_hours</code></p></li>
</ul></li>
</ul>
<p>ğŸ‘‰ Your Turn â¤µ</p>
<div id="7cb1d55e" class="cell" data-execution_count="73">
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a><span class="co">#YOUR CODE HERE:</span></span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Selecting specific variables</span></span>
<span id="cb126-3"><a href="#cb126-3" aria-hidden="true" tabindex="-1"></a><span class="co">#add the specific variables in the brackets</span></span>
<span id="cb126-4"><a href="#cb126-4" aria-hidden="true" tabindex="-1"></a>selected_data <span class="op">=</span> data_to_explore[[<span class="st">'proportion_earned'</span>, <span class="st">'time_spent_hours'</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>A correlation matrix is a handy way to calculate the pairwise correlation coefficients between two or more (numeric) variables. The Pandas data frame has this functionality built-in to its <code>corr()</code> method.</p>
<div id="55b3bd95" class="cell" data-execution_count="74">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb127-1"><a href="#cb127-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Calculating the correlation matrix</span></span>
<span id="cb127-2"><a href="#cb127-2" aria-hidden="true" tabindex="-1"></a>correlation_matrix <span class="op">=</span> selected_data.corr()</span>
<span id="cb127-3"><a href="#cb127-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb127-4"><a href="#cb127-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Printing the correlation matrix</span></span>
<span id="cb127-5"><a href="#cb127-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(correlation_matrix)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                   proportion_earned  time_spent_hours
proportion_earned           1.000000          0.438344
time_spent_hours            0.438344          1.000000</code></pre>
</div>
</div>
<p>ğŸ‘‰ Your Turn â¤µ</p>
<p>Visualize with <code>sns.heatmap()</code> for the new object <code>correlation_matrix</code></p>
<div id="51c420fa" class="cell" data-execution_count="75">
<div class="sourceCode cell-code" id="cb129"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb129-1"><a href="#cb129-1" aria-hidden="true" tabindex="-1"></a><span class="co">#YOUR CODE HERE:</span></span>
<span id="cb129-2"><a href="#cb129-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Visualizing the correlation matrix</span></span>
<span id="cb129-3"><a href="#cb129-3" aria-hidden="true" tabindex="-1"></a><span class="co">#(add code below)</span></span>
<span id="cb129-4"><a href="#cb129-4" aria-hidden="true" tabindex="-1"></a>sns.heatmap(correlation_matrix, annot<span class="op">=</span><span class="va">True</span>, cmap<span class="op">=</span><span class="st">'coolwarm'</span>)</span>
<span id="cb129-5"><a href="#cb129-5" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="found-casestudy-Py-key_files/figure-html/cell-76-output-1.png" width="533" height="416" class="figure-img"></p>
</figure>
</div>
</div>
</div>
<p><strong>APA Write-Up:</strong> â€œIn our study, we calculated Pearsonâ€™s correlation coefficient to assess the relationship between the proportion of course materials earned and the hours spent on course materials. The analysis revealed a moderate positive correlation of X (replace X with actual correlation value), suggesting that as students spend more time on course materials, their proportion of earned credits increases.â€</p>
</section>
<section id="b.-predict-academic-achievement" class="level4">
<h4 class="anchored" data-anchor-id="b.-predict-academic-achievement">B. Predict Academic Achievement</h4>
</section>
<section id="linear-regression" class="level4">
<h4 class="anchored" data-anchor-id="linear-regression"><strong>Linear Regression</strong></h4>
<p>In brief, a linear regression model involves estimating the relationships between one or more <em>independent variables</em> with one dependent variable. Mathematically, it can be written like the following.</p>
<p><span class="math display">\[
\operatorname{dependentvar} = \beta_{0} + \beta_{1}(\operatorname{independentvar}) + \epsilon
\]</span></p>
<p>where <strong>Y</strong> is the value of the response variable and <strong>Xi</strong> is the value of the explanatory variable(s).</p>
<p>Creating a linear regression model in <code>Statsmodels</code> thus requires the following steps:</p>
<ol type="1">
<li><p>Import the Statsmodels library</p></li>
<li><p>Define Y and X matrices. This is optional, but it keeps the <code>OLS()</code> call easier to read</p></li>
<li><p>Add a constant column to the X matrix</p></li>
<li><p>Call <code>OLS()</code> to define the model</p></li>
<li><p>Call <code>fit()</code> to actually estimate the model parameters using the data set (fit the line)</p></li>
<li><p>Display the results</p></li>
</ol>
<p>We will try and answer:</p>
<p>First, lets drop any missing values. You could also do the median but for simplicity here we are dropping.</p>
<div id="847c804c" class="cell" data-execution_count="76">
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 1: Drop rows with missing values</span></span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a>data_cleaned <span class="op">=</span> data_to_explore[[<span class="st">'time_spent_hours'</span>, <span class="st">'proportion_earned'</span>]].dropna()</span>
<span id="cb130-3"><a href="#cb130-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-4"><a href="#cb130-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 2: Verify that there are no missing values</span></span>
<span id="cb130-5"><a href="#cb130-5" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data_cleaned.isna().<span class="bu">sum</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>time_spent_hours     0
proportion_earned    0
dtype: int64</code></pre>
</div>
</div>
<p>â“Does time spent predict grade earned?</p>
<ul>
<li>These are the next three steps.</li>
</ul>
<div id="5a1546bb" class="cell" data-execution_count="77">
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 3: Add independent and dependent variables to X and y</span></span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> data_cleaned[[<span class="st">'time_spent_hours'</span>]]  <span class="co"># independent variable</span></span>
<span id="cb132-3"><a href="#cb132-3" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> data_cleaned[<span class="st">'proportion_earned'</span>]  <span class="co"># dependent variable</span></span>
<span id="cb132-4"><a href="#cb132-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb132-5"><a href="#cb132-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 4: Adding a constant to the model (for the intercept)</span></span>
<span id="cb132-6"><a href="#cb132-6" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> sm.add_constant(X)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now complete Steps 4 and 5 to Fit the model</p>
<div id="380d1450" class="cell" data-execution_count="78">
<div class="sourceCode cell-code" id="cb133"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb133-1"><a href="#cb133-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 5:Fit the model</span></span>
<span id="cb133-2"><a href="#cb133-2" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> sm.OLS(y, X).fit()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Step 6</p>
<p>Your turn</p>
<ul>
<li>Use the <code>print()</code> function add <code>model.summary()</code></li>
</ul>
<div id="206c3fe8" class="cell" data-execution_count="79">
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a><span class="co">#YOUR CODE HERE:</span></span>
<span id="cb134-2"><a href="#cb134-2" aria-hidden="true" tabindex="-1"></a><span class="co"># run the model</span></span>
<span id="cb134-3"><a href="#cb134-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(model.summary())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                            OLS Regression Results                            
==============================================================================
Dep. Variable:      proportion_earned   R-squared:                       0.192
Model:                            OLS   Adj. R-squared:                  0.191
Method:                 Least Squares   F-statistic:                     141.8
Date:                Fri, 19 Jul 2024   Prob (F-statistic):           1.80e-29
Time:                        20:10:37   Log-Likelihood:                -2701.6
No. Observations:                 598   AIC:                             5407.
Df Residuals:                     596   BIC:                             5416.
Df Model:                           1                                         
Covariance Type:            nonrobust                                         
====================================================================================
                       coef    std err          t      P&gt;|t|      [0.025      0.975]
------------------------------------------------------------------------------------
const               62.4306      1.511     41.325      0.000      59.464      65.398
time_spent_hours     0.4792      0.040     11.906      0.000       0.400       0.558
==============================================================================
Omnibus:                      109.391   Durbin-Watson:                   1.851
Prob(Omnibus):                  0.000   Jarque-Bera (JB):              169.357
Skew:                          -1.213   Prob(JB):                     1.68e-37
Kurtosis:                       3.955   Cond. No.                         62.5
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.</code></pre>
</div>
</div>
<p>This Python script configures and fits a linear regression model using statsmodels. The model predicts proportion_earned, the percentage of points that students earned, using time_spent_hours as the predictor. The intercept is estimated at 62.4306, suggesting that in the absence of any time spent, the expected score is significantly above zero, likely reflecting base knowledge or minimal requirements met by all students.</p>
<p>The modelâ€™s R-squared value is 0.192, indicating that about 19.2% of the variance in proportion_earned is explained by the time students spent studying. The coefficient for time_spent_hours is 0.4792, indicating that each additional hour spent studying is associated with an increase of about 0.4792 points in the proportion of points earned, a significant predictor of performance (p &lt; 0.001).</p>
</section>
<section id="your-turn-22" class="level4">
<h4 class="anchored" data-anchor-id="your-turn-22"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></h4>
<p><strong>Handle Missing data</strong></p>
<p>First, we need to add the variables to the <code>data_cleaned</code> object</p>
<div id="751b983b" class="cell" data-execution_count="80">
<div class="sourceCode cell-code" id="cb136"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a>data_cleaned <span class="op">=</span> data_to_explore[[<span class="st">'time_spent_hours'</span>, <span class="st">'proportion_earned'</span>, <span class="st">'int'</span>]]</span>
<span id="cb136-2"><a href="#cb136-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb136-3"><a href="#cb136-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 2: Drop rows with missing values in any of the selected columns</span></span>
<span id="cb136-4"><a href="#cb136-4" aria-hidden="true" tabindex="-1"></a>data_cleaned <span class="op">=</span> data_cleaned.dropna()</span>
<span id="cb136-5"><a href="#cb136-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb136-6"><a href="#cb136-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Step 3: Verify that there are no missing values in data_cleaned</span></span>
<span id="cb136-7"><a href="#cb136-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(data_cleaned.isna().<span class="bu">sum</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>time_spent_hours     0
proportion_earned    0
int                  0
dtype: int64</code></pre>
</div>
</div>
<p><strong>Build Model</strong> - Add + <code>int</code>, after <code>time_spent_hours</code> for students and self-reported interest or <code>int</code> in science to the independent and dependent variables. Remember to use the <code>data-cleaned</code> dataFrame</p>
<div id="944a96e0" class="cell" data-execution_count="81">
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a><span class="co">#YOUR CODE HERE:</span></span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Steps 1 -3, add independent and dependent variables to X and y</span></span>
<span id="cb138-3"><a href="#cb138-3" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> data_cleaned[[<span class="st">'time_spent_hours'</span>, <span class="st">'int'</span>]]  <span class="co"># independent variables</span></span>
<span id="cb138-4"><a href="#cb138-4" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> data_cleaned[<span class="st">'proportion_earned'</span>]  <span class="co"># dependent variable</span></span>
<span id="cb138-5"><a href="#cb138-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-6"><a href="#cb138-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Adding a constant to the model (for the intercept)</span></span>
<span id="cb138-7"><a href="#cb138-7" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> sm.add_constant(X)</span>
<span id="cb138-8"><a href="#cb138-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-9"><a href="#cb138-9" aria-hidden="true" tabindex="-1"></a><span class="co">#Steps 4 and 5 to Fit the model</span></span>
<span id="cb138-10"><a href="#cb138-10" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> sm.OLS(y, X, missing<span class="op">=</span><span class="st">'drop'</span>).fit()</span>
<span id="cb138-11"><a href="#cb138-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-12"><a href="#cb138-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Output the summary of the model</span></span>
<span id="cb138-13"><a href="#cb138-13" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(model.summary())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                            OLS Regression Results                            
==============================================================================
Dep. Variable:      proportion_earned   R-squared:                       0.186
Model:                            OLS   Adj. R-squared:                  0.183
Method:                 Least Squares   F-statistic:                     61.18
Date:                Fri, 19 Jul 2024   Prob (F-statistic):           1.16e-24
Time:                        20:10:37   Log-Likelihood:                -2415.1
No. Observations:                 539   AIC:                             4836.
Df Residuals:                     536   BIC:                             4849.
Df Model:                           2                                         
Covariance Type:            nonrobust                                         
====================================================================================
                       coef    std err          t      P&gt;|t|      [0.025      0.975]
------------------------------------------------------------------------------------
const               44.9660      6.649      6.763      0.000      31.905      58.027
time_spent_hours     0.4255      0.041     10.378      0.000       0.345       0.506
int                  4.6282      1.536      3.012      0.003       1.610       7.646
==============================================================================
Omnibus:                      107.272   Durbin-Watson:                   1.854
Prob(Omnibus):                  0.000   Jarque-Bera (JB):              173.917
Skew:                          -1.250   Prob(JB):                     1.72e-38
Kurtosis:                       4.220   Cond. No.                         279.
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.</code></pre>
</div>
</div>
</section>
<section id="your-turn-23" class="level4">
<h4 class="anchored" data-anchor-id="your-turn-23"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></h4>
<p><strong>APA write up:</strong> *â€œA linear regression analysis was conducted to assess the effects of time spent in hours (time_spent_hours) and studentsâ€™ attitude interest (int) on their proportion of points earned (proportion_earned). The model accounted for a moderate proportion of the variance in proportion_earned, RÂ² = .186, adjusted RÂ² = .183. The overall model was statistically significant, F(2, 536) = 61.18, p &lt; .001.</p>
<p>The regression coefficients indicated that each additional hour spent is associated with a significant increase of 0.43 points in the proportion of points earned (B = 0.4255, SE = 0.041, p &lt; .001). Furthermore, attitude interest was significantly positive, showing that higher interest levels were associated with an increase of about 4.63 points in the proportion of points earned (B = 4.6282, SE = 1.536, p = .003).</p>
<p>In summary, both time spent and attitude interest significantly predicted the proportion of points earned by the students, with both predictors contributing positively to studentsâ€™ performanceâ€*</p>
</section>
<section id="d.-assumptions" class="level4">
<h4 class="anchored" data-anchor-id="d.-assumptions">D. Assumptions</h4>
<p>Great! Now that you have defined your model in Python, which predicts <code>proportion_earned</code> based on <code>time_spent_hours</code> and the interest variable <code>int</code>, letâ€™s go through how to check the assumptions of this linear model using the various diagnostic plots and tests.</p>
<ol type="1">
<li><strong>Linearity</strong></li>
</ol>
<div id="66fedad3" class="cell" data-execution_count="82">
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot the residuals vs. fitted values</span></span>
<span id="cb140-2"><a href="#cb140-2" aria-hidden="true" tabindex="-1"></a>fitted_vals <span class="op">=</span> model.fittedvalues</span>
<span id="cb140-3"><a href="#cb140-3" aria-hidden="true" tabindex="-1"></a>residuals <span class="op">=</span> model.resid</span>
<span id="cb140-4"><a href="#cb140-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-5"><a href="#cb140-5" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb140-6"><a href="#cb140-6" aria-hidden="true" tabindex="-1"></a>sns.residplot(x<span class="op">=</span>fitted_vals, y<span class="op">=</span>residuals, lowess<span class="op">=</span><span class="va">True</span>, line_kws<span class="op">=</span>{<span class="st">'color'</span>: <span class="st">'red'</span>, <span class="st">'lw'</span>: <span class="dv">1</span>})</span>
<span id="cb140-7"><a href="#cb140-7" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Residuals vs Fitted'</span>)</span>
<span id="cb140-8"><a href="#cb140-8" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Fitted values'</span>)</span>
<span id="cb140-9"><a href="#cb140-9" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Residuals'</span>)</span>
<span id="cb140-10"><a href="#cb140-10" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb140-11"><a href="#cb140-11" aria-hidden="true" tabindex="-1"></a>plt.clf()  <span class="co"># Clear the plot</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="found-casestudy-Py-key_files/figure-html/cell-83-output-1.png" width="819" height="523" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
</div>
<ol start="2" type="1">
<li><strong>Independence</strong></li>
</ol>
<div id="68afbe35" class="cell" data-execution_count="83">
<div class="sourceCode cell-code" id="cb142"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Durbin-Watson statistic</span></span>
<span id="cb142-2"><a href="#cb142-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> statsmodels.stats.stattools <span class="im">import</span> durbin_watson</span>
<span id="cb142-3"><a href="#cb142-3" aria-hidden="true" tabindex="-1"></a>dw_statistic <span class="op">=</span> durbin_watson(residuals)</span>
<span id="cb142-4"><a href="#cb142-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f'Durbin-Watson statistic: </span><span class="sc">{</span>dw_statistic<span class="sc">}</span><span class="ss">'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Durbin-Watson statistic: 1.8542147128294413</code></pre>
</div>
</div>
<p><strong>Interpretation of the Durbin-Watson Statistic</strong></p>
<p>The Durbin-Watson statistic ranges from 0 to 4:</p>
<ul>
<li><p><strong>Around 2</strong>: Indicates no autocorrelation in the residuals.</p></li>
<li><p><strong>Less than 2</strong>: Indicates positive autocorrelation.</p></li>
<li><p><strong>Greater than 2</strong>: Indicates negative autocorrelation.</p></li>
</ul>
<p>With a Durbin-Watson statistic of approximately 1.85, it is close to 2, suggesting that there is little to no autocorrelation in the residuals, which is a good indication for the independence assumption.</p>
<ol start="3" type="1">
<li><strong>Homoscedasticity</strong>:</li>
</ol>
<p>The Scale-Location plot (residuals vs.&nbsp;fitted values) should show a horizontal line with equally spread residuals, indicating homoscedasticity.</p>
</section>
<section id="your-turn-24" class="level4">
<h4 class="anchored" data-anchor-id="your-turn-24"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></h4>
<p>In the code chunk below:</p>
<ul>
<li><p><strong>Data</strong>: Use the <code>data_to_explore</code> DataFrame.</p></li>
<li><p><strong>Mapping</strong>: Use the <code>fitted_vals</code> variable mapped to the x position and <code>np.sqrt(np.abs(residuals))</code> mapped to the y position.</p></li>
<li><p><strong>Plot Type</strong>: Use the <code>sns.scatterplot()</code> function to create the scatter plot.</p></li>
<li><p><strong>Title</strong>: Add a title â€œScale-Location Plotâ€.</p></li>
<li><p><strong>X-axis Label</strong>: Label the x-axis as â€œFitted valuesâ€.</p></li>
<li><p><strong>Y-axis Label</strong>: Label the y-axis as â€œSqrt(|Residuals|)</p></li>
<li><p><strong>Clear plot:</strong> Clear the plot if needed <code>plt.clf()</code></p></li>
</ul>
<div id="d1f92eca" class="cell" data-execution_count="84">
<div class="sourceCode cell-code" id="cb144"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb144-1"><a href="#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="co">#YOUR CODE HERE:</span></span>
<span id="cb144-2"><a href="#cb144-2" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">10</span>, <span class="dv">6</span>))</span>
<span id="cb144-3"><a href="#cb144-3" aria-hidden="true" tabindex="-1"></a>sns.scatterplot(x<span class="op">=</span>fitted_vals, y<span class="op">=</span>np.sqrt(np.<span class="bu">abs</span>(residuals)), edgecolor<span class="op">=</span><span class="st">'w'</span>)</span>
<span id="cb144-4"><a href="#cb144-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Scale-Location Plot'</span>)</span>
<span id="cb144-5"><a href="#cb144-5" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Fitted values'</span>)</span>
<span id="cb144-6"><a href="#cb144-6" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Sqrt(|Residuals|)'</span>)</span>
<span id="cb144-7"><a href="#cb144-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span>
<span id="cb144-8"><a href="#cb144-8" aria-hidden="true" tabindex="-1"></a>plt.clf()  <span class="co"># Clear the plot</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>
<figure class="figure">
<p><img src="found-casestudy-Py-key_files/figure-html/cell-85-output-1.png" width="800" height="523" class="figure-img"></p>
</figure>
</div>
</div>
<div class="cell-output cell-output-display">
<pre><code>&lt;Figure size 672x480 with 0 Axes&gt;</code></pre>
</div>
</div>
<ol start="4" type="1">
<li><strong>Absence of Multicollinearity</strong></li>
</ol>
<p>The Variance Inflation Factor (VIF) is a measure used to detect the presence of multicollinearity among the predictor variables in a regression model. Multicollinearity occurs when two or more predictors are highly correlated, which can affect the stability and interpretability of the regression coefficients.</p>
<div id="2224b838" class="cell" data-execution_count="85">
<div class="sourceCode cell-code" id="cb146"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb146-1"><a href="#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> statsmodels.stats.outliers_influence <span class="im">import</span> variance_inflation_factor  <span class="co"># Import VIF function</span></span>
<span id="cb146-2"><a href="#cb146-2" aria-hidden="true" tabindex="-1"></a>vif_data <span class="op">=</span> pd.DataFrame()</span>
<span id="cb146-3"><a href="#cb146-3" aria-hidden="true" tabindex="-1"></a>vif_data[<span class="st">'Variable'</span>] <span class="op">=</span> X.columns</span>
<span id="cb146-4"><a href="#cb146-4" aria-hidden="true" tabindex="-1"></a>vif_data[<span class="st">'VIF'</span>] <span class="op">=</span> [variance_inflation_factor(X.values, i) <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(X.shape[<span class="dv">1</span>])]</span>
<span id="cb146-5"><a href="#cb146-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb146-6"><a href="#cb146-6" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(vif_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>           Variable        VIF
0             const  51.909308
1  time_spent_hours   1.006076
2               int   1.006076</code></pre>
</div>
</div>
</section>
<section id="general-rule-of-thumb-for-vif" class="level4">
<h4 class="anchored" data-anchor-id="general-rule-of-thumb-for-vif">General Rule of Thumb for VIF:</h4>
<ul>
<li><p><strong>VIF &lt; 5</strong>: Indicates low multicollinearity.</p></li>
<li><p><strong>VIF between 5 and 10</strong>: Indicates moderate multicollinearity.</p></li>
<li><p><strong>VIF &gt; 10</strong>: Indicates high multicollinearity and may warrant further investigation or corrective measures.</p></li>
</ul>
</section>
<section id="your-turn-25" class="level4">
<h4 class="anchored" data-anchor-id="your-turn-25"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></h4>
<p>Add your interpretation below:</p>
<ul>
<li>â€œIn summary, for the model, the VIF values for <code>time_spent_hours</code> and <code>int</code> are both close to 1, indicating that there is no significant multicollinearity between the predictor variables. Therefore, you can be confident that the regression coefficients for these variables are stable and interpretable. The high VIF for the constant term is not typically a concern in this context.â€</li>
</ul>
</section>
<section id="stop-here.-congratulations-you-finished-the-third-part-of-the-case-study." class="level3">
<h3 class="anchored" data-anchor-id="stop-here.-congratulations-you-finished-the-third-part-of-the-case-study.">ğŸ›‘ Stop here. Congratulations you finished the third part of the case study.</h3>
</section>
</section>
<section id="communicate-module-4" class="level2">
<h2 class="anchored" data-anchor-id="communicate-module-4">5. Communicate (Module 4)</h2>
<p>For your final Your Turn, your goal is to distill our analysis into a Quarto â€œdata productâ€ designed to illustrate key findings. Feel free to use the template in the lab 4 folder.</p>
<p>The final step in the workflow/process is sharing the results of your analysis with wider audience. Krumm et al. <span class="citation" data-cites="krumm2018">@krumm2018</span> have outlined the following 3-step process for communicating with education stakeholders findings from an analysis:</p>
<ol type="1">
<li><p><strong>Select.</strong>&nbsp;Communicating what one has learned involves selecting among those analyses that are most important and most useful to an intended audience, as well as selecting a form for displaying that information, such as a graph or table in static or interactive form, i.e.&nbsp;a â€œdata product.â€</p></li>
<li><p><strong>Polish</strong>. After creating initial versions of data products, research teams often spend time refining or polishing them, by adding or editing titles, labels, and notations and by working with colors and shapes to highlight key points.</p></li>
<li><p><strong>Narrate.</strong>&nbsp;Writing a narrative to accompany the data products involves, at a minimum, pairing a data product with its related research question, describing how best to interpret the data product, and explaining the ways in which the data product helps answer the research question and might be used to inform new analyses or a â€œchange ideaâ€ for improving student learning.</p></li>
</ol>
<section id="your-turn-26" class="level4">
<h4 class="anchored" data-anchor-id="your-turn-26"><strong>ğŸ‘‰ Your Turn</strong> <strong>â¤µ</strong></h4>
<p>Create a Data Story with our current data set, or your own. Make sure to use the LA workflow as your guide to include</p>
<p>- Develop a research question</p>
<p>- Add ggplot visualizations</p>
<p>- Modeling visualizations</p>
<p>- Communicate by writing up a short write up for the intended stakeholders. Remember to write it in terms the stakeholders understand.</p>
<p><img src="img/teacher%20persona.png" alt="Teacher Persona" class="wrap-img"> <strong><em>Finally, Alex prepares to communicate her findings. She creates a simple web page using Markdown to share her insights with colleagues. This acts as a practical example of how data can inform teaching practices.</em></strong></p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = false;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "î§‹";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>